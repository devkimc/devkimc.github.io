{"componentChunkName":"component---src-templates-blog-template-js","path":"/git-hooks-husky-with-eslint/","result":{"data":{"cur":{"id":"25e4d646-4eb3-539a-8b86-7cec34e6ed3f","html":"<h2 id=\"1---들어가기-앞서\" style=\"position:relative;\"><a href=\"#1---%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%95%9E%EC%84%9C\" aria-label=\"1   들어가기 앞서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 - 들어가기 앞서..</h2>\n<p>팀원과 컨벤션 정의 및 lint 규칙을 정하는 상황이 있습니다.\n그런데 작업을 하다 보면 서로 코드 컨벤션에 소홀해지는 경우가 있습니다.\n이런 상황일 때, 사용하면 좋은 도구가 <strong>husky</strong> 입니다.</p>\n<blockquote>\n<p>husky 를 사용하면 커밋 전, 푸시 전 등 git hooks 상황에 맞게 코드 규칙을 강제할 수 있습니다.</p>\n</blockquote>\n<br />\n<h2 id=\"2---용어-및-도구-정리\" style=\"position:relative;\"><a href=\"#2---%EC%9A%A9%EC%96%B4-%EB%B0%8F-%EB%8F%84%EA%B5%AC-%EC%A0%95%EB%A6%AC\" aria-label=\"2   용어 및 도구 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 - 용어 및 도구 정리</h2>\n<br />\n<h3 id=\"git-hooks\" style=\"position:relative;\"><a href=\"#git-hooks\" aria-label=\"git hooks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>git hooks</h3>\n<blockquote>\n<p>git 과 관련한 이벤트가 발생했을 때, 추가 스크립트를 실행하는 기능</p>\n</blockquote>\n<p>git hooks 는 클라이언트 훅과 서버 훅으로 나뉩니다.\n클라이언트 훅은 git 이벤트를 실행 시, 실행자의 컴퓨터에서 실행하는 훅입니다.\n서버 훅은 git 이벤트를 실행 시, 타 서버에서 실행하는 훅입니다.\n.git/hooks 폴더 내부에 보면 각 훅을 확인할 수 있습니다.</p>\n<br />\n<h3 id=\"husky\" style=\"position:relative;\"><a href=\"#husky\" aria-label=\"husky permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>husky</h3>\n<blockquote>\n<p>git hooks 를 편리하게 사용하도록 도와주는 도구</p>\n</blockquote>\n<p>git 이벤트 실행자는 클라이언트 훅을 사용할 수 있습니다.\n.git/hooks 폴더 내부에 존재하는 클라이언트 훅을 사용해도 되지만, 버전관리가 되지 않습니다.\n이에 대한 대안으로 husky 를 사용합니다.</p>\n<br />\n<h3 id=\"lint-staged\" style=\"position:relative;\"><a href=\"#lint-staged\" aria-label=\"lint staged permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>lint-staged</h3>\n<blockquote>\n<p>stage 된 상태의 git 파일에 대해 lint 및 추가 명령어를 실행해주는 라이브러리</p>\n</blockquote>\n<p>git hook 과 husky 가 무엇인지 알았습니다. 그렇다면 언제 코드를 관리하는 것일까요?\n상황마다 다르겠지만, 스테이징 된 코드를 커밋하기 전에 점검하는 예제가 많았습니다.</p>\n<blockquote>\n<p>git add -> <strong>pre-commit</strong> -> commit</p>\n</blockquote>\n<p>커밋되기 전에 스테이징 된 git 파일을 검사하고, 이상이 있을 시에는 커밋이 되지 않습니다.\n이러한 과정을 도와주는 라이브러리입니다.</p>\n<br />\n<h3 id=\"mrm\" style=\"position:relative;\"><a href=\"#mrm\" aria-label=\"mrm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>mrm</h3>\n<p><a href=\"https://www.npmjs.com/package/mrm\">https://www.npmjs.com/package/mrm</a></p>\n<blockquote>\n<p>오픈 소스 프로젝트의 구성을 동기화하는 데 도음이 되는 명령줄 도구입니다. <br />\nCommand line tool to help you keep configuration (package.json, .gitignore, .eslintrc, etc.) of your open source projects in sync.</p>\n</blockquote>\n<p>husky 와 lint-staged 모듈을 간편하게 설정하기 위해 사용합니다\n해당 모듈이 설치 시 husky 와 lint-staged 를 설치하며, husky 를 실행하기 위한 shell 스크립트가 폴더가 생성됩니다.\nlint-staged 이외에도 jest, dependabot 등을 지원합니다.</p>\n<br />\n<h2 id=\"3---사용방법\" style=\"position:relative;\"><a href=\"#3---%EC%82%AC%EC%9A%A9%EB%B0%A9%EB%B2%95\" aria-label=\"3   사용방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 - 사용방법</h2>\n<p>react, next 등 생성된 프로젝트 내부에서 시작하시면 됩니다.</p>\n<h3 id=\"31---husky-lint-staged-설치\" style=\"position:relative;\"><a href=\"#31---husky-lint-staged-%EC%84%A4%EC%B9%98\" aria-label=\"31   husky lint staged 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1 - husky, lint-staged 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npx mrm lint-staged</code></pre></div>\n<p>.husky 폴더 내부에 husky 실행 쉘이 생성됩니다.\n<br /></p>\n<p>package.json 에 lint-staged 스크립트가 추가 되었을 것입니다.\n해당 스크립트는 staged 된 파일에 대해 추가 명령어를 실행하는 스크립트입니다.\n사용하는 언어에 따라 변경하면 됩니다.\n저는 ts, tsx 파일에 대해 lint 를 적용하겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 변경 전\n    },\n    \"lint-staged\": {\n        \"*.js\": \"eslint --cache --fix\"\n    }\n\n// 변경 후\n    },\n    \"lint-staged\": {\n        \"*.{ts,tsx}\": [\n            \"eslint --fix\",\n            \"prettier --write\"\n        ]\n    }</code></pre></div>\n<p>만약 yarn 패키지 매니저를 사용하신다면,\n.husky/pre-commit 파일을 다음과 같이 변경하시면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 변경 전\n##!/bin/sh\n. \"$(dirname \"$0\")/_/husky.sh\"\n\nnpx lint-staged\n\n// 변경 후\n##!/bin/sh\n. \"$(dirname \"$0\")/_/husky.sh\"\n\nyarn lint-staged</code></pre></div>\n<br />\n<h3 id=\"32---husky-적용-테스트\" style=\"position:relative;\"><a href=\"#32---husky-%EC%A0%81%EC%9A%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"32   husky 적용 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2 - husky 적용 테스트</h3>\n<p>모두 적용했으니 오류 케이스를 생성후 테스트 하겠습니다.</p>\n<h4 id=\"321---오류-케이스-생성\" style=\"position:relative;\"><a href=\"#321---%EC%98%A4%EB%A5%98-%EC%BC%80%EC%9D%B4%EC%8A%A4-%EC%83%9D%EC%84%B1\" aria-label=\"321   오류 케이스 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2.1 - 오류 케이스 생성</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 오류 케이스 - index.tsx\n\nimport React from 'react';\nimport MapView from '../components/map/MapView';\nimport SearchModal from '../components/search/SearchModal';\n\nconst Home = () => {\n    return (\n            &lt;SearchModal />\n            &lt;MapView />\n    );\n};\n\nexport default Home;</code></pre></div>\n<p>해당 tsx 파일은 부모로 감싸주는 태그가 없기 때문에 eslint 에러를 발생시켜야 합니다.</p>\n<h4 id=\"322---오류-케이스-테스트\" style=\"position:relative;\"><a href=\"#322---%EC%98%A4%EB%A5%98-%EC%BC%80%EC%9D%B4%EC%8A%A4-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"322   오류 케이스 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2.2 - 오류 케이스 테스트</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 1. 스테이징\ngit add .\n\n// 2. 테스트\nyarn lint-staged // yarn 사용 시\nnpx lint-staged // npm 사용 시</code></pre></div>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> lint-staged\n✔ Preparing lint-staged<span class=\"token punctuation\">..</span>.\n❯ Running tasks <span class=\"token keyword\">for</span> staged files<span class=\"token punctuation\">..</span>.\n  ❯ package.json — <span class=\"token number\">57</span> files\n    ❯ *.<span class=\"token punctuation\">{</span>ts,tsx<span class=\"token punctuation\">}</span> — <span class=\"token number\">1</span> <span class=\"token function\">file</span>\n      ✖ eslint <span class=\"token parameter variable\">--fix</span> <span class=\"token punctuation\">[</span>FAILED<span class=\"token punctuation\">]</span>\n      ◼ prettier <span class=\"token parameter variable\">--write</span>\n↓ Skipped because of errors from tasks. <span class=\"token punctuation\">[</span>SKIPPED<span class=\"token punctuation\">]</span>\n✔ Reverting to original state because of errors<span class=\"token punctuation\">..</span>.\n✔ Cleaning up temporary files<span class=\"token punctuation\">..</span>.\n\n✖ eslint --fix:\n\n/Users/ws/with-eat/pages/index.tsx\n  <span class=\"token number\">7</span>:12  error  Parsing error: JSX expressions must have one parent element\n\n✖ <span class=\"token number\">1</span> problem <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> error, <span class=\"token number\">0</span> warnings<span class=\"token punctuation\">)</span></code></pre></div>\n<p>eslint 에러가 발생했으니 성공입니다!</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git commit</code></pre></div>\n<p>커밋을 해도 같은 메시지가 뜨는 지 확인해보고 오류가 뜬다면 설정은 끝났습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1---%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%95%9E%EC%84%9C\">1 - 들어가기 앞서..</a></p>\n</li>\n<li>\n<p><a href=\"#2---%EC%9A%A9%EC%96%B4-%EB%B0%8F-%EB%8F%84%EA%B5%AC-%EC%A0%95%EB%A6%AC\">2 - 용어 및 도구 정리</a></p>\n<ul>\n<li><a href=\"#git-hooks\">git hooks</a></li>\n<li><a href=\"#husky\">husky</a></li>\n<li><a href=\"#lint-staged\">lint-staged</a></li>\n<li><a href=\"#mrm\">mrm</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3---%EC%82%AC%EC%9A%A9%EB%B0%A9%EB%B2%95\">3 - 사용방법</a></p>\n<ul>\n<li>\n<p><a href=\"#31---husky-lint-staged-%EC%84%A4%EC%B9%98\">3.1 - husky, lint-staged 설치</a></p>\n</li>\n<li>\n<p><a href=\"#32---husky-%EC%A0%81%EC%9A%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8\">3.2 - husky 적용 테스트</a></p>\n<ul>\n<li><a href=\"#321---%EC%98%A4%EB%A5%98-%EC%BC%80%EC%9D%B4%EC%8A%A4-%EC%83%9D%EC%84%B1\">3.2.1 - 오류 케이스 생성</a></li>\n<li><a href=\"#322---%EC%98%A4%EB%A5%98-%EC%BC%80%EC%9D%B4%EC%8A%A4-%ED%85%8C%EC%8A%A4%ED%8A%B8\">3.2.2 - 오류 케이스 테스트</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"1 - 들어가기 앞서.. 팀원과 컨벤션 정의 및 lint 규칙을 정하는 상황이 있습니다.\n그런데 작업을 하다 보면 서로 코드 컨벤션에 소홀해지는 경우가 있습니다.\n이런 상황일 때, 사용하면 좋은 도구가 husky 입니다. husky 를 사용하면 커밋 전, 푸시 전 등 git hooks 상황에 맞게 코드 규칙을 강제할 수 있습니다. 2 - 용어 및 도구 정리 git hooks git 과 관련한 이벤트가 발생했을 때, 추가 스크립트를 실행하는 기능 git hooks 는 클라이언트 훅과 서버 훅으로 나뉩니다.\n클라이언트 훅은 git 이벤트를 실행 시, 실행자의 컴퓨터에서 실행하는 훅입니다.\n서버 훅은 git 이벤트를 실행 시, 타 서버에서 실행하는 훅입니다.\n.git/hooks 폴더 내부에 보면 각 훅을 확인할 수 있습니다. husky git hooks 를 편리하게 사용하도록 도와주는 도구 git 이벤트 실행자는 클라이언트 훅을 사용할 수 있습니다.\n.git/hooks 폴더 내부에 존재…","frontmatter":{"date":"December 06, 2022","title":"git hooks 를 husky 로 제어하기 (eslint, pre-commit)","categories":"블로그 frontend","author":"vvs-kim","emoji":"💻"},"fields":{"slug":"/git-hooks-husky-with-eslint/"}},"next":{"id":"aea1bb0e-a0f7-5e04-b212-68c9a6f0bdd8","html":"<h2 id=\"1---git-접속-에러\" style=\"position:relative;\"><a href=\"#1---git-%EC%A0%91%EC%86%8D-%EC%97%90%EB%9F%AC\" aria-label=\"1   git 접속 에러 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 - git 접속 에러</h2>\n<ol>\n<li>새로운 노트북을 이용할 때</li>\n<li>github, gitlab 에 처음 계정을 연동해서 이용할 때</li>\n<li>https remote 주소로 부터 깃을 관리할 때</li>\n</ol>\n<p>권한 에러를 마주할 수 있습니다.\n이에 대한 반복된 검색을 줄이면 좋을 거 같아서 포스팅을 시작합니다.</p>\n<h3 id=\"github-에러\" style=\"position:relative;\"><a href=\"#github-%EC%97%90%EB%9F%AC\" aria-label=\"github 에러 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>github 에러</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git push origin main\nUsername for 'https://github.com': vvs-kim\nPassword for 'https://vvs-kim@github.com':\n\nremote: Support for password authentication was removed on August 13, 2021.\nremote: Please see https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.\nfatal: Authentication failed for '레포지토리 주소'\n</code></pre></div>\n<p>올바른 사용자 이름과 비밀번호를 입력했을 때 에러가 발생합니다.\n가끔 마주하는 문구인데 읽어보면,</p>\n<blockquote>\n<p><strong>2021년 8월 13일 부터 비밀번호 인증지원은 제거됐다.</strong></p>\n</blockquote>\n<p>라고 나와 있고, 어떻게 적용할 지 링크를 알려줍니다.\nhttps 리모트를 적용하면 기본적으로 깃계정의 아이디와 패스워드를 입력합니다.\n패스워드 인증을 지원하지 않는다고 하니 ssh 접속을 하는 방법이 필요합니다.</p>\n<br />\n<h2 id=\"2---git-ssh-접속-방법\" style=\"position:relative;\"><a href=\"#2---git-ssh-%EC%A0%91%EC%86%8D-%EB%B0%A9%EB%B2%95\" aria-label=\"2   git ssh 접속 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 - git ssh 접속 방법</h2>\n<h3 id=\"21---ssh-key-생성\" style=\"position:relative;\"><a href=\"#21---ssh-key-%EC%83%9D%EC%84%B1\" aria-label=\"21   ssh key 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1 - ssh key 생성</h3>\n<p>우선, ssh-keygen 이 설치되어 있어야 합니다.\n<a href=\"https://git-scm.com/book/ko/v2/Git-%EC%84%9C%EB%B2%84-SSH-%EA%B3%B5%EA%B0%9C%ED%82%A4-%EB%A7%8C%EB%93%A4%EA%B8%B0\">https://git-scm.com/book/ko/v2/Git-%EC%84%9C%EB%B2%84-SSH-%EA%B3%B5%EA%B0%9C%ED%82%A4-%EB%A7%8C%EB%93%A4%EA%B8%B0</a>\n<br /></p>\n<h4 id=\"ssh-keygen-옵션\" style=\"position:relative;\"><a href=\"#ssh-keygen-%EC%98%B5%EC%85%98\" aria-label=\"ssh keygen 옵션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ssh-keygen 옵션</h4>\n<p><strong>-t:</strong> 생성할 키의 유형. 암호화의 타입을 사용하겠다는 것입니다.\n<strong>-c:</strong> 생성할 코멘트의 내용. 작성한 내용은 public key 파일 마지막에 기입됩니다.\n<br /></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ssh-keygen <span class=\"token parameter variable\">-t</span> rsa <span class=\"token parameter variable\">-C</span> <span class=\"token string\">\"깃 아이디 또는 이메일 등\"</span>\n\nGenerating public/private rsa key pair.\n\n// public, private key 파일 생성 위치, 입력하지 않을 시 해당 디렉토리에 생성\nEnter <span class=\"token function\">file</span> <span class=\"token keyword\">in</span> <span class=\"token function\">which</span> to save the key <span class=\"token punctuation\">(</span>/Users/wskim/.ssh/id_rsa<span class=\"token punctuation\">)</span>:\n\n// 보안을 강화하고 싶다면 추가 비밀번호 입력, 없을 시 엔터\nEnter passphrase <span class=\"token punctuation\">(</span>empty <span class=\"token keyword\">for</span> no passphrase<span class=\"token punctuation\">)</span>:\n\n// 추가 비밀번호 확인\nEnter same passphrase again:\n\n// 생성되었습니다<span class=\"token operator\">!</span> 👏\nYour identification has been saved <span class=\"token keyword\">in</span> /Users/wskim/.ssh/id_rsa\nYour public key has been saved <span class=\"token keyword\">in</span> /Users/wskim/.ssh/id_rsa.pub\nThe key fingerprint is:\nSHA256:Kbzt8d0Sv57t9RG11/1SKpQXQjJeOAqIjMgw+tX+iqc vvs-kim\nThe key's randomart image is:</code></pre></div>\n<br />\n<h4 id=\"ssh-key-생성-확인\" style=\"position:relative;\"><a href=\"#ssh-key-%EC%83%9D%EC%84%B1-%ED%99%95%EC%9D%B8\" aria-label=\"ssh key 생성 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ssh key 생성 확인</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 유저별 ssh 디렉토리\n$ cd ~/.ssh\n\n// ssh 목록 확인\n$ ls -a\n\n// public key 확인. 입력한 코멘트가 보여야 합니다.\n$ cat id_rsa.pub\n\n// public key 복사\n$ pbcopy &lt; id_rsa.pub</code></pre></div>\n<br />\n<h3 id=\"22---github-에-ssh-public-key-등록\" style=\"position:relative;\"><a href=\"#22---github-%EC%97%90-ssh-public-key-%EB%93%B1%EB%A1%9D\" aria-label=\"22   github 에 ssh public key 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2 - github 에 ssh public key 등록</h3>\n<p><a href=\"https://github.com/settings/keys\">https://github.com/settings/keys</a>\n해당 페이지에 접속하여 <strong>[New SSH Key]</strong> 클릭\n원하는 Title 입력 후 복사한 public key 붙여넣기합니다.\n<strong>[Add SSH Key]</strong> 클릭</p>\n<h4 id=\"ssh-접속-설정\" style=\"position:relative;\"><a href=\"#ssh-%EC%A0%91%EC%86%8D-%EC%84%A4%EC%A0%95\" aria-label=\"ssh 접속 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ssh 접속 설정</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// ssh config 파일 설정\n$ touch ~/.ssh/config\n\n// ssh config 파일 편집\n$ vi ~/.ssh/config\n\n// 📝 해당 내용을 복사해서 붙여넣기 합니다.\nHost github.com\n  IdentityFile ~/.ssh/id_rsa\n  User git\n</code></pre></div>\n<br />\n<h4 id=\"ssh-접속-테스트\" style=\"position:relative;\"><a href=\"#ssh-%EC%A0%91%EC%86%8D-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"ssh 접속 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ssh 접속 테스트</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ .ssh % ssh -T git@github.com\nHi vvs-kim! You've successfully authenticated, but GitHub does not provide shell access.</code></pre></div>\n<p>ssh 접속을 위한 준비가 끝났습니다.</p>\n<br />\n<h3 id=\"23---ssh-로-github-clone\" style=\"position:relative;\"><a href=\"#23---ssh-%EB%A1%9C-github-clone\" aria-label=\"23   ssh 로 github clone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3 - ssh 로 github clone</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git clone 'ssh 레포지토리 경로'\n</code></pre></div>\n<br />\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<p><a href=\"https://www.lainyzine.com/ko/article/creating-ssh-key-for-github/\">https://www.lainyzine.com/ko/article/creating-ssh-key-for-github/</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1---git-%EC%A0%91%EC%86%8D-%EC%97%90%EB%9F%AC\">1 - git 접속 에러</a></p>\n<ul>\n<li><a href=\"#github-%EC%97%90%EB%9F%AC\">github 에러</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2---git-ssh-%EC%A0%91%EC%86%8D-%EB%B0%A9%EB%B2%95\">2 - git ssh 접속 방법</a></p>\n<ul>\n<li>\n<p><a href=\"#21---ssh-key-%EC%83%9D%EC%84%B1\">2.1 - ssh key 생성</a></p>\n<ul>\n<li><a href=\"#ssh-keygen-%EC%98%B5%EC%85%98\">ssh-keygen 옵션</a></li>\n<li><a href=\"#ssh-key-%EC%83%9D%EC%84%B1-%ED%99%95%EC%9D%B8\">ssh key 생성 확인</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#22---github-%EC%97%90-ssh-public-key-%EB%93%B1%EB%A1%9D\">2.2 - github 에 ssh public key 등록</a></p>\n<ul>\n<li><a href=\"#ssh-%EC%A0%91%EC%86%8D-%EC%84%A4%EC%A0%95\">ssh 접속 설정</a></li>\n<li><a href=\"#ssh-%EC%A0%91%EC%86%8D-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ssh 접속 테스트</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#23---ssh-%EB%A1%9C-github-clone\">2.3 - ssh 로 github clone</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 03, 2022","title":"git ssh 접속하기","categories":"블로그 server","author":"vvs-kim","emoji":"💻"},"fields":{"slug":"/git-ssh-connect/"}},"prev":{"id":"183c814b-b404-518d-9a97-fa9cfcc35bfc","html":"<h2 id=\"1---csr-생성\" style=\"position:relative;\"><a href=\"#1---csr-%EC%83%9D%EC%84%B1\" aria-label=\"1   csr 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 - CSR 생성</h2>\n<blockquote>\n<p>mac → 키체인 접근 → 인증서 지원 -> 인증기관에서 인증서 요청</p>\n</blockquote>\n<br />\n<h2 id=\"2---dns-검증\" style=\"position:relative;\"><a href=\"#2---dns-%EA%B2%80%EC%A6%9D\" aria-label=\"2   dns 검증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 - DNS 검증</h2>\n<p>SSL 인증서를 발급하기 전에, 해당 도메인의 소유주가 맞는 지 확인하는 검증 단계입니다.\n도메인 구입 사이트 또는 호스팅 사이트에서 cname 등록인 필요합니다. (ex. aws route53, gabia 등)\n하루를 기다려도 검증이 안될 시 잘못 입력한 부분이 있는지 확인해야 합니다.</p>\n<blockquote>\n<p>Type: CNAME Record\nHost: CNAME\nValue: CNAME value\nTTL: Automatic</p>\n</blockquote>\n<p>🚫 주의할점: Host 입력 시 도메인 제거 후 입력할 것!</p>\n<br />\n<h2 id=\"3---ssl-인증서-다운로드\" style=\"position:relative;\"><a href=\"#3---ssl-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\" aria-label=\"3   ssl 인증서 다운로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 - SSL 인증서 다운로드</h2>\n<blockquote>\n<p>DNS 검증 완료 시 구매 사이트로부터 다운로드</p>\n</blockquote>\n<br />\n<h2 id=\"4---chain-파일-생성-필요-시\" style=\"position:relative;\"><a href=\"#4---chain-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%ED%95%84%EC%9A%94-%EC%8B%9C\" aria-label=\"4   chain 파일 생성 필요 시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4 - chain 파일 생성 (필요 시)</h2>\n<blockquote>\n<p><a href=\"https://decoder.link/result\">SSL &#x26; CSR Decoder</a></p>\n</blockquote>\n<ol>\n<li>접속 후 CSR 입력 후 DECODE</li>\n<li>Bundle (Nginx) 다운로드</li>\n</ol>\n<br />\n<h2 id=\"5---개인키-파일-생성\" style=\"position:relative;\"><a href=\"#5---%EA%B0%9C%EC%9D%B8%ED%82%A4-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\" aria-label=\"5   개인키 파일 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5 - 개인키 파일 생성</h2>\n<blockquote>\n<p>mac → 키체인 접근 → 도메인 검색(ex. google.com) → 개인키 우클릭 → 내보내기(.p12 파일)</p>\n</blockquote>\n<br />\n<h2 id=\"6---p12-파일을-key-파일로-변환\" style=\"position:relative;\"><a href=\"#6---p12-%ED%8C%8C%EC%9D%BC%EC%9D%84-key-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EB%B3%80%ED%99%98\" aria-label=\"6   p12 파일을 key 파일로 변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6 - p12 파일을 key 파일로 변환</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">openssl pkcs12 <span class=\"token parameter variable\">-in</span> your_domain.p12 <span class=\"token parameter variable\">-nodes</span> <span class=\"token parameter variable\">-out</span> your_domain.key <span class=\"token parameter variable\">-nocerts</span></code></pre></div>\n<br />\n<h2 id=\"7---인증-파일을-nginx-로-이동\" style=\"position:relative;\"><a href=\"#7---%EC%9D%B8%EC%A6%9D-%ED%8C%8C%EC%9D%BC%EC%9D%84-nginx-%EB%A1%9C-%EC%9D%B4%EB%8F%99\" aria-label=\"7   인증 파일을 nginx 로 이동 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7 - 인증 파일을 nginx 로 이동</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>lss <span class=\"token operator\">/</span>\n  certs <span class=\"token operator\">/</span>\n  your_domain_chain<span class=\"token punctuation\">.</span>crt <span class=\"token operator\">/</span> <span class=\"token comment\">// 체인</span>\n  etc <span class=\"token operator\">/</span>\n  ssl <span class=\"token operator\">/</span>\n  certs <span class=\"token operator\">/</span>\n  your_domain_private<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 개인키</span></code></pre></div>\n<br />\n<h2 id=\"8---nginx-설정\" style=\"position:relative;\"><a href=\"#8---nginx-%EC%84%A4%EC%A0%95\" aria-label=\"8   nginx 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8 - Nginx 설정</h2>\n<ol>\n<li>설정 파일 생성</li>\n<li>http → https 리다이렉트 설정</li>\n<li>인증서 위치 설정(ssl_certificate, ssl_certificate_key)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">// /etc/nginx/conf.d/default.conf\n\nserver <span class=\"token punctuation\">{</span>\n\tlisten <span class=\"token number\">80</span> default_server<span class=\"token punctuation\">;</span>\n\tlisten <span class=\"token punctuation\">[</span>::<span class=\"token punctuation\">]</span>:80 default_server<span class=\"token punctuation\">;</span>\n\n    <span class=\"token builtin class-name\">return</span> <span class=\"token number\">301</span> https://your_domain<span class=\"token variable\">$request_uri</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nserver <span class=\"token punctuation\">{</span>\n    listen <span class=\"token number\">443</span> ssl<span class=\"token punctuation\">;</span>\n\n    ssl_certificate /etc/ssl/certs/your_domain_chain.crt<span class=\"token punctuation\">;</span>\n    ssl_certificate_key /etc/ssl/certs/your_domain_private.key<span class=\"token punctuation\">;</span>\n\n\troot /var/www/html<span class=\"token punctuation\">;</span>\n\n\tindex index.html index.htm index.nginx-debian.html<span class=\"token punctuation\">;</span>\n\n\tlocation / <span class=\"token punctuation\">{</span>\n\t\ttry_files <span class=\"token variable\">$uri</span> <span class=\"token variable\">$uri</span>/ <span class=\"token operator\">=</span><span class=\"token number\">404</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n    server_name your_domain www.your_domain<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// nginx 문법 테스트</span>\n\nsudo nginx <span class=\"token operator\">-</span>t\n\n<span class=\"token literal-property property\">nginx</span><span class=\"token operator\">:</span> the configuration file <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>nginx<span class=\"token operator\">/</span>nginx<span class=\"token punctuation\">.</span>conf syntax is ok\n<span class=\"token literal-property property\">nginx</span><span class=\"token operator\">:</span> configuration file <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>nginx<span class=\"token operator\">/</span>nginx<span class=\"token punctuation\">.</span>conf test is successful</code></pre></div>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// nginx 재실행</span>\n\nsudo service nginx restart</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1---csr-%EC%83%9D%EC%84%B1\">1 - CSR 생성</a></li>\n<li><a href=\"#2---dns-%EA%B2%80%EC%A6%9D\">2 - DNS 검증</a></li>\n<li><a href=\"#3---ssl-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\">3 - SSL 인증서 다운로드</a></li>\n<li><a href=\"#4---chain-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%ED%95%84%EC%9A%94-%EC%8B%9C\">4 - chain 파일 생성 (필요 시)</a></li>\n<li><a href=\"#5---%EA%B0%9C%EC%9D%B8%ED%82%A4-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\">5 - 개인키 파일 생성</a></li>\n<li><a href=\"#6---p12-%ED%8C%8C%EC%9D%BC%EC%9D%84-key-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EB%B3%80%ED%99%98\">6 - p12 파일을 key 파일로 변환</a></li>\n<li><a href=\"#7---%EC%9D%B8%EC%A6%9D-%ED%8C%8C%EC%9D%BC%EC%9D%84-nginx-%EB%A1%9C-%EC%9D%B4%EB%8F%99\">7 - 인증 파일을 nginx 로 이동</a></li>\n<li><a href=\"#8---nginx-%EC%84%A4%EC%A0%95\">8 - Nginx 설정</a></li>\n</ul>\n</div>","frontmatter":{"date":"December 15, 2022","title":"SSL 인증(DNS, Nginx)","categories":"블로그 web","author":"vvs-kim","emoji":"📓"},"fields":{"slug":"/ssl-setting/"}},"site":{"siteMetadata":{"siteUrl":"https://vvs-kim.github.io","comments":{"utterances":{"repo":"vvs-kim/vvs-kim.github.io"}}}}},"pageContext":{"slug":"/git-hooks-husky-with-eslint/","nextSlug":"/git-ssh-connect/","prevSlug":"/ssl-setting/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}