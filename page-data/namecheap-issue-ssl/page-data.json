{"componentChunkName":"component---src-templates-blog-template-js","path":"/namecheap-issue-ssl/","result":{"data":{"cur":{"id":"88e9951b-a0bf-55f9-b806-859aa24b0a8a","html":"<h2 id=\"포스팅-배경\" style=\"position:relative;\"><a href=\"#%ED%8F%AC%EC%8A%A4%ED%8C%85-%EB%B0%B0%EA%B2%BD\" aria-label=\"포스팅 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>포스팅 배경</h2>\n<h3 id=\"namecheap-ssl-인증에-대한-자료-부족\" style=\"position:relative;\"><a href=\"#namecheap-ssl-%EC%9D%B8%EC%A6%9D%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9E%90%EB%A3%8C-%EB%B6%80%EC%A1%B1\" aria-label=\"namecheap ssl 인증에 대한 자료 부족 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Namecheap SSL 인증에 대한 자료 부족</h3>\n<p>Namecheap 사이트에서 생성한 SSL 인증서가 만료되어, https 적용을 위해 재발급 했습니다.\nNamecheap 에서 제공하는 문서만으로는 재발급이 쉽지 않아서 작성했습니다.\n이 게시물이 저와 같은 상황의 분들에게 도움이 되면 좋겠습니다.\n<br/></p>\n<h2 id=\"순서\" style=\"position:relative;\"><a href=\"#%EC%88%9C%EC%84%9C\" aria-label=\"순서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>순서</h2>\n<ol>\n<li>인증서 발행</li>\n<li>인증서 다운로드</li>\n<li>CNAME 등록</li>\n<li>모든 인증서 파일을 단일 파일로 결합</li>\n<li>Nginx 설정 확인 및 재실행<br>\n<br/><br/></li>\n</ol>\n<h2 id=\"전체-과정\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EA%B3%BC%EC%A0%95\" aria-label=\"전체 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전체 과정</h2>\n<h3 id=\"1-인증서-발행\" style=\"position:relative;\"><a href=\"#1-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%ED%96%89\" aria-label=\"1 인증서 발행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 인증서 발행</h3>\n<p><a href=\"https://ap.www.namecheap.com/domains/ssl/detail/*CertificateID*/*PrimaryDomain*/dashboard\">https://ap.www.namecheap.com/domains/ssl/detail/*CertificateID*/*PrimaryDomain*/dashboard</a></p>\n<p>해당 페이지로 접속하거나,</p>\n<p>Namecheap 사이트에서 Domain List → Details → SSL → Details 로 이동합니다.\n(갱신하고자 하는 Domain 과 Certificate 선택)</p>\n<p>만료된 CSR Code 를 복사합니다.\n만료된 CSR Code를 사용하지 않는다면 이전에 사용하는 private_key 와 생성할 public_key 가 매칭하지 않습니다.\n(private_key도 바꿔야 합니다.)</p>\n<p>따라서 CSR Code 를 새로 생성할 필요가 없습니다.\nissue 버튼을 눌러서 인증서를 발행합니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/9d7af08f-00ea-4476-a23a-b2966bd6e4bd/image.png\" alt=\"\"><br/></p>\n<h3 id=\"2-인증서-다운로드\" style=\"position:relative;\"><a href=\"#2-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\" aria-label=\"2 인증서 다운로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 인증서 다운로드</h3>\n<p>인증서를 다운로드 받기 전에 CSR 코드를 입력하는 부분이 존재할 것입니다.\n복사한 CSR 코드를 붙여넣기 합니다.\n그러면 Certificate Status 가 ISSUED(발행됐다) 로 변경될 것입니다.\nDOWNLOAD CERTIFICATE 를 눌러서 인증서를 다운받습니다.\n<img src=\"https://velog.velcdn.com/images/kws60000/post/7c14da62-47ea-4711-920a-68d10bf2ac45/image.png\" alt=\"\"><br/></p>\n<h3 id=\"3-cname-등록\" style=\"position:relative;\"><a href=\"#3-cname-%EB%93%B1%EB%A1%9D\" aria-label=\"3 cname 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. CNAME 등록</h3>\n<p>사용하는 도메인에 대해서 소유권이 있는지를 확인하는 단계입니다.</p>\n<ol>\n<li>Get a CNAME record from this page (Edit methods).</li>\n</ol>\n<p>해당 링크를 클릭 후 CNAME 의 host, value 를 복사합니다.</p>\n<ol start=\"2\">\n<li>Namecheap’s Default DNS, Backup DNS or FreeDNS: Visit the host records page.</li>\n</ol>\n<p>해당 링크를 클릭 후 복사한 host, value 를 붙여 넣고 TTL 은 5분으로 설정합니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/b8542940-0930-4baf-b0c7-d2dd22f8536d/image.png\" alt=\"\"></p>\n<br/>\n<h3 id=\"4-모든-인증서-파일을-단일-파일로-결합\" style=\"position:relative;\"><a href=\"#4-%EB%AA%A8%EB%93%A0-%EC%9D%B8%EC%A6%9D%EC%84%9C-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EB%8B%A8%EC%9D%BC-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EA%B2%B0%ED%95%A9\" aria-label=\"4 모든 인증서 파일을 단일 파일로 결합 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 모든 인증서 파일을 단일 파일로 결합</h3>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/13dbe578-4385-4374-8bc8-bd68b112c2fc/image.png\" alt=\"\">\n다운로드 파일을 압축 해제하면 위와 같이 세개의 파일이 존재합니다.\n이 중 <strong>crt</strong> 파일과 <strong>ca-bundle</strong> 파일을 합치면,\n서버에 존재하는 private key 와 매칭하는 인증서 파일이 됩니다.\n합치는 방법은 다음과 같습니다.</p>\n<blockquote>\n<p>// your_domain\ncat your_domain.crt your_domain.ca-bundle >> your_domain_chain.crt</p>\n</blockquote>\n<blockquote>\n<p>// ex) google\ncat google.crt google.ca-bundle >> google_chain.crt</p>\n</blockquote>\n<br/>\n통합된 단일 파일을 서버의 ssl 폴더 경로로 이동합니다.<br/><br/>\n<h3 id=\"5-nginx-설정-확인-및-재실행\" style=\"position:relative;\"><a href=\"#5-nginx-%EC%84%A4%EC%A0%95-%ED%99%95%EC%9D%B8-%EB%B0%8F-%EC%9E%AC%EC%8B%A4%ED%96%89\" aria-label=\"5 nginx 설정 확인 및 재실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Nginx 설정 확인 및 재실행</h3>\n<p>서버의 nginx 설정이 올바르게 되어 있는지 확인합니다.\n보통 /etc/nginx/nginx.conf\n또는 /etc/nginx/conf.d/default.conf 파일에서 설정하는 것 같습니다.\n설정 파일 안에 https 설정이 다음의 내용을 포함하는지 확인합니다.</p>\n<blockquote>\n<p>server {</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">listen       443 ssl;\nssl_certificate \"/etc/ssl/your_domain.crt\";\nssl_certificate_key \"/etc/ssl/your_domain.key\";\n...</code></pre></div>\n<p>}</p>\n<br/>\n경로는 저와 다를 수 있습니다.\nprivate key 와 통합된 crt 의 경로를 올바르게 해줘야 합니다.\n<blockquote>\n<p>service nginx restart\nservice nginx status</p>\n</blockquote>\n<br/>\n<p>확인 후 이상이 없다면 적용된 것입니다.\n시크릿 창을 띄워서 도메인에 접속하시면 https 적용이 되었을 것입니다.</p>\n<p>만약 nginx 를 재실행 했을 때 다음과 같은 오류가 발견된다면,</p>\n<blockquote>\n<p>SSL: error:0906D066:PEM routines:PEM_read_bio:bad end line</p>\n</blockquote>\n<br/>\n<p>인증서 형식에 대한 오류입니다.\n통합된 crt 파일을 확인합니다.\n다음과 일치하는 부분이 있는지 찾아서 변경해줍니다.</p>\n<blockquote>\n<p>// 변경 전\n-----END CERTIFICATE----------BEGIN CERTIFICATE-----</p>\n</blockquote>\n<blockquote>\n<p>// 변경 후\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----</p>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%ED%8F%AC%EC%8A%A4%ED%8C%85-%EB%B0%B0%EA%B2%BD\">포스팅 배경</a></p>\n<ul>\n<li><a href=\"#namecheap-ssl-%EC%9D%B8%EC%A6%9D%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9E%90%EB%A3%8C-%EB%B6%80%EC%A1%B1\">Namecheap SSL 인증에 대한 자료 부족</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%88%9C%EC%84%9C\">순서</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%B2%B4-%EA%B3%BC%EC%A0%95\">전체 과정</a></p>\n<ul>\n<li><a href=\"#1-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%ED%96%89\">1. 인증서 발행</a></li>\n<li><a href=\"#2-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\">2. 인증서 다운로드</a></li>\n<li><a href=\"#3-cname-%EB%93%B1%EB%A1%9D\">3. CNAME 등록</a></li>\n<li><a href=\"#4-%EB%AA%A8%EB%93%A0-%EC%9D%B8%EC%A6%9D%EC%84%9C-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EB%8B%A8%EC%9D%BC-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EA%B2%B0%ED%95%A9\">4. 모든 인증서 파일을 단일 파일로 결합</a></li>\n<li><a href=\"#5-nginx-%EC%84%A4%EC%A0%95-%ED%99%95%EC%9D%B8-%EB%B0%8F-%EC%9E%AC%EC%8B%A4%ED%96%89\">5. Nginx 설정 확인 및 재실행</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"포스팅 배경 Namecheap SSL 인증에 대한 자료 부족 Namecheap 사이트에서 생성한 SSL 인증서가 만료되어, https 적용을 위해 재발급 했습니다.\nNamecheap 에서 제공하는 문서만으로는 재발급이 쉽지 않아서 작성했습니다.\n이 게시물이 저와 같은 상황의 분들에게 도움이 되면 좋겠습니다.\n 순서 인증서 발행 인증서 다운로드 CNAME 등록 모든 인증서 파일을 단일 파일로 결합 Nginx 설정 확인 및 재실행  전체 과정 1. 인증서 발행 https://ap.www.namecheap.com/domains/ssl/detail/*CertificateID*/*PrimaryDomain*/dashboard 해당 페이지로 접속하거나, Namecheap 사이트에서 Domain List → Details → SSL → Details 로 이동합니다.\n(갱신하고자 하는 Domain 과 Certificate 선택) 만료된 CSR Code 를 복사합니다.\n만료된 CSR Code를 사용…","frontmatter":{"date":"October 05, 2022","title":"Namecheap SSL 인증서 재발급 후기 (Https 적용)","categories":"블로그 web","author":"vvs-kim","emoji":"💻"},"fields":{"slug":"/namecheap-issue-ssl/"}},"next":{"id":"6de08e55-afd6-58e1-b067-bc30ccc747a3","html":"<h2 id=\"포스팅-배경\" style=\"position:relative;\"><a href=\"#%ED%8F%AC%EC%8A%A4%ED%8C%85-%EB%B0%B0%EA%B2%BD\" aria-label=\"포스팅 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>포스팅 배경</h2>\n<h3 id=\"jenkins를-실무에서-왜-사용할까\" style=\"position:relative;\"><a href=\"#jenkins%EB%A5%BC-%EC%8B%A4%EB%AC%B4%EC%97%90%EC%84%9C-%EC%99%9C-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C\" aria-label=\"jenkins를 실무에서 왜 사용할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkins를 실무에서 왜 사용할까?</h3>\n<p>이전 직장에서 xshell, total commander 를 사용하여 수동으로 배포를 했었습니다.\n상당히 위험한 순간도 많았고, 실수한 적도 많았습니다.\n이에 대한 불편함을 느끼고, 현 직장에서는 자동 배포환경을 구축했습니다.\n이로 인해 동료 개발자도 배포가 쉬워지는 장점을 느꼈습니다.</p>\n<h3 id=\"기억보단-기록\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%96%B5%EB%B3%B4%EB%8B%A8-%EA%B8%B0%EB%A1%9D\" aria-label=\"기억보단 기록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기억보단 기록</h3>\n<p>Jenkins 환경 구축을 4번했습니다.\n잦은 장비 변경으로 인해 window, linux, mac, docker 등 각 OS에 모두 설치할 때마다\n이전 과정이 기억나지 않았고, 많은 시간을 소비했습니다.\n기록에 대한 필요성을 느꼈고, 저와 같은 불편함을 겪는 분들에게 도움이 되면 좋겠습니다.</p>\n<h2 id=\"순서\" style=\"position:relative;\"><a href=\"#%EC%88%9C%EC%84%9C\" aria-label=\"순서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>순서</h2>\n<ol>\n<li>Jenkins 설치 및 계정 설정</li>\n<li>Jenkins - github 계정 연동 설정</li>\n<li>프로젝트 생성</li>\n<li>프로젝트 - github repository 연동 설정</li>\n<li>플러그인 설치, 설정(ex. node, publish over ssh)</li>\n<li>Build steps, 빌드 전/후 조치 설정</li>\n</ol>\n<h2 id=\"전체-과정\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EA%B3%BC%EC%A0%95\" aria-label=\"전체 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전체 과정</h2>\n<h3 id=\"1-jenkins-설치-및-계정-설정\" style=\"position:relative;\"><a href=\"#1-jenkins-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EA%B3%84%EC%A0%95-%EC%84%A4%EC%A0%95\" aria-label=\"1 jenkins 설치 및 계정 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Jenkins 설치 및 계정 설정</h3>\n<p><a href=\"https://www.jenkins.io/download/\">https://www.jenkins.io/download/</a>\n해당 페이지에서 각 OS 별 요구하는 Jenkins 를 설치합니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/fdda899c-e5c7-4450-9e74-0f7619020104/image.PNG\" alt=\"\"></p>\n<p>Jenkins 설치 후 해당 경로의 초기 비밀번호를 입력합니다.\nplugin은 Install suggested plugins 를 선택해도 괜찮습니다. (추후 설치 가능)</p>\n<p>설치되면 Admin 계정을 설정합니다.\nport 를 설정할 수 있습니다.\n저의 경우, 백엔드 api에서 8080 포트를 사용하므로 8090으로 변경했습니다.</p>\n<h3 id=\"2-jenkins---github-계정-연동-설정\" style=\"position:relative;\"><a href=\"#2-jenkins---github-%EA%B3%84%EC%A0%95-%EC%97%B0%EB%8F%99-%EC%84%A4%EC%A0%95\" aria-label=\"2 jenkins   github 계정 연동 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Jenkins - github 계정 연동 설정</h3>\n<p><a href=\"https://github.com/settings/tokens\">https://github.com/settings/tokens</a>\nor\ngithub -> settings -> developer settings -> Personal access tokens</p>\n<p>해당 페이지에서 Generate new token 클릭\ntoken 이름 설정 후 repo, admin_hook 을 체크하고 Generate token 을 클릭합니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/caeb1570-f512-45c7-8e28-2434dea7f5cc/image.PNG\" alt=\"\"><img src=\"https://velog.velcdn.com/images/kws60000/post/b04e2890-49ea-45b9-987b-a88ad91b7ff0/image.png\" alt=\"\"> 빨간부분을 복사합니다.</p>\n<p>Jenkins 홈 -> Jenkins 관리 -> Configure System 로 이동합니다.\ngit 메뉴에 있는 Add github server 를 클릭 후 Credentials 하단의 Add 버튼을 클릭합니다.\n복사한 텍스트를 Secret에 입력합니다.<img src=\"https://velog.velcdn.com/images/kws60000/post/88f985a5-d7e3-49bf-b958-b71528217214/image.PNG\" alt=\"\">설정한 credential 을 적용 후\ntest connection 클릭 시 이렇게 출력된다면 연동된 것입니다.</p>\n<blockquote>\n<p>Credentials verified for user “your ID”, rate limit: 4999</p>\n</blockquote>\n<h3 id=\"3-프로젝트-생성\" style=\"position:relative;\"><a href=\"#3-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-label=\"3 프로젝트 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 프로젝트 생성</h3>\n<p>Jenkins 홈 -> 새로운 Item -> ID 입력, Freestyle project 클릭 후 Ok 버튼 클릭</p>\n<h3 id=\"4-프로젝트---github-repository-연동-설정\" style=\"position:relative;\"><a href=\"#4-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8---github-repository-%EC%97%B0%EB%8F%99-%EC%84%A4%EC%A0%95\" aria-label=\"4 프로젝트   github repository 연동 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 프로젝트 - github repository 연동 설정</h3>\n<p>Jenkins 홈 -> 생성한 프로젝트 클릭 -> 구성\n소스 코드 관리 Git 선택 후 Repository URL 입력\n<a href=\"mailto:git@github.com\">git@github.com</a>:kws60000/Must_Eat_2.git 와 같은 ssh url 을 입력합니다.\n<img src=\"https://velog.velcdn.com/images/kws60000/post/8b93253c-3e46-4cec-aa07-c0b4227bae87/image.png\" alt=\"\"></p>\n<p>에러가 뜹니다. jenkins workspace에 ssh key를 추가해야 합니다.\nJenkins 홈 -> Jenkins 관리 -> Configure System 로 이동하면 각 OS 별 홈 디렉토리를 알려줍니다.\n<img src=\"https://velog.velcdn.com/images/kws60000/post/e9734dcc-a5e1-4f95-b41e-eaa2e5038510/image.png\" alt=\"\">디렉토리 이동 후 cd jobs/your_project_name 또는 cd workspace/your_project_name 이동\n해당 경로는 jenkins project 경로입니다. ssh 접속을 위한 파일을 추가해야 합니다.</p>\n<blockquote>\n<p><em>* 해당 기록은 추가 수정이 필요합니다</em> > <em>* ‘jenkins github ssh 연동’ 이라고 검색하시면 원하는 자료를 찾으실 수 있습니다.</em></p>\n</blockquote>\n<h4 id=\"1-ssh-key-파일-생성\" style=\"position:relative;\"><a href=\"#1-ssh-key-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\" aria-label=\"1 ssh key 파일 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ssh key 파일 생성</h4>\n<p>해당 디렉토리에서 .ssh 파일 추가 후 ssh key 파일을 생성합니다.</p>\n<h4 id=\"2-github에-ssh-key-등록\" style=\"position:relative;\"><a href=\"#2-github%EC%97%90-ssh-key-%EB%93%B1%EB%A1%9D\" aria-label=\"2 github에 ssh key 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. github에 ssh key 등록</h4>\n<p><a href=\"https://github.com/settings/ssh/new\">https://github.com/settings/ssh/new</a></p>\n<h4 id=\"3-jenkins-프로젝트-구성-add-credential\" style=\"position:relative;\"><a href=\"#3-jenkins-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%84%B1-add-credential\" aria-label=\"3 jenkins 프로젝트 구성 add credential permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Jenkins 프로젝트 구성 Add credential</h4>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/004a34f3-3447-4f36-90d8-3faed895e8fd/image.png\" alt=\"\"></p>\n<h3 id=\"5-플러그인-설치-설정\" style=\"position:relative;\"><a href=\"#5-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98-%EC%84%A4%EC%A0%95\" aria-label=\"5 플러그인 설치 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 플러그인 설치, 설정</h3>\n<p>jenkins 에서 패키지, 플러그인을 사용하기위한 과정입니다.\n저의 경우 nodejs, publish over ssh 플러그인을 사용했습니다.</p>\n<h3 id=\"6-build-steps-빌드-전후-조치-설정\" style=\"position:relative;\"><a href=\"#6-build-steps-%EB%B9%8C%EB%93%9C-%EC%A0%84%ED%9B%84-%EC%A1%B0%EC%B9%98-%EC%84%A4%EC%A0%95\" aria-label=\"6 build steps 빌드 전후 조치 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Build steps, 빌드 전/후 조치 설정</h3>\n<p>설치한 플러그인을 활용해 빌드 script, 전/후 처리를 하는 과정입니다.</p>\n<p>저의 경우\n<strong>Build</strong> 단계에서 npm install, build 를 진행합니다.\nCI는 환경변수이고, 정확한 이유는 모르나 false로 지정해야 오류가 나지 않았습니다.</p>\n<p><strong>빌드 후 조치</strong> 단계에서 서버에 SSH 접속 후 build된 파일을 서버로 모두 전송했습니다.\n이후 nginx 를 재실행 함으로서 배포가 마무리 됩니다.</p>\n<p>Jenkins 홈 -> 생성한 프로젝트 클릭 -> 구성\n<img src=\"https://velog.velcdn.com/images/kws60000/post/4162308e-291a-4992-8805-11f1d2fef6f6/image.png\" alt=\"\"></p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/6218a7f9-7f19-4e17-80d7-6c8945adcc16/image.png\" alt=\"\"></p>\n<h2 id=\"jenkins-적용-후\" style=\"position:relative;\"><a href=\"#jenkins-%EC%A0%81%EC%9A%A9-%ED%9B%84\" aria-label=\"jenkins 적용 후 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkins 적용 후</h2>\n<ul>\n<li>\n<p>수동 배포만 하다가 <strong>버튼 한 번으로 배포가 된다는 것</strong>과 팀즈(hook)의 알람을 통해 <strong>배포의 성공 유무를 확인할 수 있다는 것</strong>은 정말 많은 시간을 줄여주고 편리했습니다.</p>\n</li>\n<li>\n<p>타 개발자도 사설 IP를 통해 jenkins를 사용할 수 있어서 두배 이상의 효과가 있었습니다.</p>\n</li>\n<li>\n<p>미흡한 점도 많습니다. CD는 구축한 것 같으나 CI에 대한 설정이 필요합니다. <strong>테스트에 대한 설정이 필요합니다.</strong></p>\n</li>\n<li>\n<p>기회가 된다면, github action hook을 통해 배포를 해보고 싶다는 생각을 했습니다.</p>\n</li>\n</ul>\n<p>긴 글 읽어주셔서 고맙습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%ED%8F%AC%EC%8A%A4%ED%8C%85-%EB%B0%B0%EA%B2%BD\">포스팅 배경</a></p>\n<ul>\n<li><a href=\"#jenkins%EB%A5%BC-%EC%8B%A4%EB%AC%B4%EC%97%90%EC%84%9C-%EC%99%9C-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C\">Jenkins를 실무에서 왜 사용할까?</a></li>\n<li><a href=\"#%EA%B8%B0%EC%96%B5%EB%B3%B4%EB%8B%A8-%EA%B8%B0%EB%A1%9D\">기억보단 기록</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%88%9C%EC%84%9C\">순서</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%B2%B4-%EA%B3%BC%EC%A0%95\">전체 과정</a></p>\n<ul>\n<li>\n<p><a href=\"#1-jenkins-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EA%B3%84%EC%A0%95-%EC%84%A4%EC%A0%95\">1. Jenkins 설치 및 계정 설정</a></p>\n</li>\n<li>\n<p><a href=\"#2-jenkins---github-%EA%B3%84%EC%A0%95-%EC%97%B0%EB%8F%99-%EC%84%A4%EC%A0%95\">2. Jenkins - github 계정 연동 설정</a></p>\n</li>\n<li>\n<p><a href=\"#3-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\">3. 프로젝트 생성</a></p>\n</li>\n<li>\n<p><a href=\"#4-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8---github-repository-%EC%97%B0%EB%8F%99-%EC%84%A4%EC%A0%95\">4. 프로젝트 - github repository 연동 설정</a></p>\n<ul>\n<li><a href=\"#1-ssh-key-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\">1. ssh key 파일 생성</a></li>\n<li><a href=\"#2-github%EC%97%90-ssh-key-%EB%93%B1%EB%A1%9D\">2. github에 ssh key 등록</a></li>\n<li><a href=\"#3-jenkins-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%84%B1-add-credential\">3. Jenkins 프로젝트 구성 Add credential</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98-%EC%84%A4%EC%A0%95\">5. 플러그인 설치, 설정</a></p>\n</li>\n<li>\n<p><a href=\"#6-build-steps-%EB%B9%8C%EB%93%9C-%EC%A0%84%ED%9B%84-%EC%A1%B0%EC%B9%98-%EC%84%A4%EC%A0%95\">6. Build steps, 빌드 전/후 조치 설정</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#jenkins-%EC%A0%81%EC%9A%A9-%ED%9B%84\">Jenkins 적용 후</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 27, 2022","title":"Jenkins 자동 배포하기 (+github 연동)","categories":"블로그 ci/cd","author":"vvs-kim","emoji":"💻"},"fields":{"slug":"/jenkins-deploy-with-github/"}},"prev":{"id":"7ba9acd4-64b0-5866-814e-0d93dd9a50bd","html":"<h2 id=\"에러-상황\" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%9F%AC-%EC%83%81%ED%99%A9\" aria-label=\"에러 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>에러 상황</h2>\n<p>Mac OS 환경에서 Mariadb 를 homebrew로 설치했습니다. 이후 spring 에서 작업 시 MySQL 커넥터를 사용해서 DB를 연동했습니다. 잘 사용하다가 파이썬을 설치한 이후로 해당 에러가 발생하고 JDBC DB 연동이 안됐습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">MariaDB <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>none<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> <span class=\"token keyword\">select</span> @<span class=\"token variable\">@version</span><span class=\"token punctuation\">,</span> @<span class=\"token variable\">@version_comment</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----------------+-------------------+</span>\n<span class=\"token operator\">|</span> @<span class=\"token variable\">@version</span>      <span class=\"token operator\">|</span> @<span class=\"token variable\">@version_comment</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----------------+-------------------+</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">11.0</span><span class=\"token number\">.2</span><span class=\"token operator\">-</span>MariaDB <span class=\"token operator\">|</span> Homebrew          <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----------------+-------------------+</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span>SQLException</span><span class=\"token operator\">:</span> <span class=\"token class-name\">Unknown</span> system variable 'transaction_isolation'</code></pre></div>\n<br />\n<h2 id=\"에러-원인\" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%9F%AC-%EC%9B%90%EC%9D%B8\" aria-label=\"에러 원인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>에러 원인</h2>\n<h3 id=\"transaction_isolation\" style=\"position:relative;\"><a href=\"#transaction_isolation\" aria-label=\"transaction_isolation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>transaction_isolation</h3>\n<p>트랜잭션의 격리수준을 설정하는 변수입니다. 격리수준에 따라 다음처럼 나뉩니다. InnoDB의 기본 격리수준은 REPEATABLE READ 입니다.</p>\n<ul>\n<li>READ UNCOMMITTED</li>\n<li>READ COMMITTED</li>\n<li>REPEATEABLE READ</li>\n<li>SERIALIZABLE</li>\n</ul>\n<br />\nMariaDB 공식 문서를 보니 11.1.1 이전 버전에는 tx_isolation 을 사용하고 이후 버전에서는 transaction_isolation 변수를 사용한다고 했습니다.\n<blockquote>\n<p>To determine the global and session transaction isolation levels at runtime, check the value of the tx_isolation system variable (note that the variable has been renamed transaction_isolation from MariaDB 11.1.1, to match the option, and the old name deprecated).</p>\n</blockquote>\n<p>저는 11.0.2 버전을 설치했으므로 tx_isolation 변수가 사용된 것 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">MariaDB <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>none<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> <span class=\"token keyword\">show</span> variables <span class=\"token operator\">like</span> <span class=\"token string\">'t%_isolation'</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------------+</span>\n<span class=\"token operator\">|</span> Variable_name <span class=\"token operator\">|</span> <span class=\"token keyword\">Value</span>           <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------------+</span>\n<span class=\"token operator\">|</span> tx_isolation  <span class=\"token operator\">|</span> <span class=\"token keyword\">REPEATABLE</span><span class=\"token operator\">-</span><span class=\"token keyword\">READ</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------------+</span></code></pre></div>\n<p>MySQL 5.7.20 이후 버전을 사용하면 tx_isolation 대신 transaction_isolation가 존재해야 한다고 합니다. 저는 MySQL 8.0.29 버전을 사용하려 했기 때문에 ‘transaction_isolation’ 가 필요하다고 에러가 발생한 것이었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">implementation 'mysql:mysql-connector-java:8.0.29'</code></pre></div>\n<br />\n<h2 id=\"해결-과정\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EA%B3%BC%EC%A0%95\" aria-label=\"해결 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 과정</h2>\n<h3 id=\"1-mycnf-수정-\" style=\"position:relative;\"><a href=\"#1-mycnf-%EC%88%98%EC%A0%95-\" aria-label=\"1 mycnf 수정  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. my.cnf 수정 ❌</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">##\n## This group is read both by the client and the server\n## use it for options that affect everything\n##\n[client-server]\n\n[mysqld]\ntransaction-isolation = READ-COMMITED\n\n##\n## include *.cnf from the config directory\n##\n!includedir /opt/homebrew/etc/my.cnf.d</code></pre></div>\n<p>윈도우를 사용시 my.ini 파일을 수정해서 해결했다는 글을 보고 /opt/homebrew/etc/my.cnf 파일을 수정했지만, 수정 후 데몬 실행이 안됐습니다.</p>\n<h3 id=\"2-mysql-대신-mariadb-와-연동하기-\" style=\"position:relative;\"><a href=\"#2-mysql-%EB%8C%80%EC%8B%A0-mariadb-%EC%99%80-%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0-\" aria-label=\"2 mysql 대신 mariadb 와 연동하기  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. MySQL 대신 MariaDB 와 연동하기 ✅</h3>\n<p>MariaDB 로 연동하면 같은 변수를 사용하기 때문에 문제가 없습니다. 에러없이 연동할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//\timplementation 'mysql:mysql-connector-java:8.0.29'</span>\n\truntimeOnly 'org<span class=\"token punctuation\">.</span>mariadb<span class=\"token punctuation\">.</span>jdbc<span class=\"token operator\">:</span>mariadb<span class=\"token operator\">-</span>java<span class=\"token operator\">-</span>client'</code></pre></div>\n<h3 id=\"3-mariadb-업그레이드-\" style=\"position:relative;\"><a href=\"#3-mariadb-%EC%97%85%EA%B7%B8%EB%A0%88%EC%9D%B4%EB%93%9C-\" aria-label=\"3 mariadb 업그레이드  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. MariaDB 업그레이드 ❌</h3>\n<p>11.1.1 이후의 MariaDB의 버전으로 업그레이드하면 transaction_isolation를 사용하기 때문에 되지 않을까? 했지만 homebrew로 설치가능한 11.1.1 이후 버전이 없었기 때문에 현재는 적용 불가능한 방법이었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">% brew search mariadb\n==> Formulae\nmariadb ✔                  mariadb@10.2               mariadb@10.7\nmariadb-connector-c        mariadb@10.3               mariadb@10.8\nmariadb-connector-odbc     mariadb@10.4               mariadb@10.9\nmariadb@10.10              mariadb@10.5               qt-mariadb\nmariadb@10.11              mariadb@10.6</code></pre></div>\n<br />\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<p><a href=\"https://mariadb.com/kb/en/set-transaction/\">MariaDB - SET TRANSACTION</a>\n<a href=\"https://trustyou.tistory.com/338\">mysql 8.0 내에서 tx_isolation만 있는 경우</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%97%90%EB%9F%AC-%EC%83%81%ED%99%A9\">에러 상황</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%97%90%EB%9F%AC-%EC%9B%90%EC%9D%B8\">에러 원인</a></p>\n<ul>\n<li><a href=\"#transaction_isolation\">transaction_isolation</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%95%B4%EA%B2%B0-%EA%B3%BC%EC%A0%95\">해결 과정</a></p>\n<ul>\n<li><a href=\"#1-mycnf-%EC%88%98%EC%A0%95-\">1. my.cnf 수정 ❌</a></li>\n<li><a href=\"#2-mysql-%EB%8C%80%EC%8B%A0-mariadb-%EC%99%80-%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0-\">2. MySQL 대신 MariaDB 와 연동하기 ✅</a></li>\n<li><a href=\"#3-mariadb-%EC%97%85%EA%B7%B8%EB%A0%88%EC%9D%B4%EB%93%9C-\">3. MariaDB 업그레이드 ❌</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"July 31, 2023","title":"Unknown system variable 'transaction_isolation'","categories":"블로그 database","author":"vvs-kim","emoji":"💻"},"fields":{"slug":"/unknown-system-variable-transaction-isolation/"}},"site":{"siteMetadata":{"siteUrl":"https://vvs-kim.github.io","comments":{"utterances":{"repo":"vvs-kim/vvs-kim.github.io"}}}}},"pageContext":{"slug":"/namecheap-issue-ssl/","nextSlug":"/jenkins-deploy-with-github/","prevSlug":"/unknown-system-variable-transaction-isolation/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}