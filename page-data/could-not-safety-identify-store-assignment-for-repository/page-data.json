{"componentChunkName":"component---src-templates-blog-template-js","path":"/could-not-safety-identify-store-assignment-for-repository/","result":{"data":{"cur":{"id":"ba282916-c974-5eb1-886c-fa4fc56ae71f","html":"<h1 id=\"-ì—ëŸ¬-ìƒí™©\" style=\"position:relative;\"><a href=\"#-%EC%97%90%EB%9F%AC-%EC%83%81%ED%99%A9\" aria-label=\" ì—ëŸ¬ ìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸš« ì—ëŸ¬ ìƒí™©</h1>\n<p>Redis ë‚´ì˜ Refresh token ê°’ì„ ë‹¤ë£¨ê¸° ìœ„í•´ CrudRepository ë¥¼ ì‚¬ìš©í•˜ê³ , RDBMS ë‚´ì˜ ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ JpaRepository ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p>\n<p>í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ëœ¨ëŠ” ì—¬ëŸ¬ ë¡œê·¸ ì¤‘ ì—ëŸ¬ëŠ” ì•„ë‹ˆì§€ë§Œ, ë°˜ê°‘ì§€ ì•Šì€ INFO ë¡œê·¸ê°€ 2ê°œì˜ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì–´ 7ê°œ ì •ë„ ë°˜ë³µë˜ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì—”í‹°í‹° í´ë˜ìŠ¤ ìˆ˜ ë§Œí¼ ë°˜ë³µ ë˜ì—ˆê³ , ì•„ë˜ì²˜ëŸ¼ ë¡œê·¸ê°€ ì¶œë ¥ëìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>A ì˜ì—­: Spring Data JPA</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2023-06-18 19:10:30.731  INFO 4986 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-18 19:10:30.670  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface jparest.practice.auth.jwt.RefreshTokenRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository</code></pre></div>\n<ul>\n<li>B ì˜ì—­: Spring Data Redis</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2023-06-18 19:10:30.741  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface jparest.practice.group.repository.GroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository\n2023-06-18 19:10:30.741  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface jparest.practice.group.repository.UserGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository\n2023-06-18 19:10:30.741  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface jparest.practice.invite.repository.InviteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository\n2023-06-18 19:10:30.741  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface jparest.practice.rest.repository.GroupRestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository\n2023-06-18 19:10:30.742  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface jparest.practice.rest.repository.RestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository\n2023-06-18 19:10:30.742  INFO 4986 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface jparest.practice.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository</code></pre></div>\n<p>ë¡œê·¸ëŠ” ë‘ê°œì˜ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì—ˆê³ , ì½ì–´ë³´ë©´</p>\n<p>â€œSpring Data JPA: <strong>ì—”í‹°í‹°ì˜ ë ˆí¬ì§€í† ë¦¬ì— ëŒ€í•´ ì‹ë³„í•  ìˆ˜ ì—†ë‹¤</strong>. ë§Œì•½ ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ JPA repositoryë¡œ ë§Œë“¤ë ¤ë©´ @\bEntity ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ë¼â€</p>\n<p>â€œSpring Data Redis: <strong>ì—”í‹°í‹°ì˜ ë ˆí¬ì§€í† ë¦¬ì— ëŒ€í•´ ì‹ë³„í•  ìˆ˜ ì—†ë‹¤</strong>. ë§Œì•½ ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ Redis repositoryë¡œ ë§Œë“¤ë ¤ë©´ @RedisHash ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ë¼â€</p>\n<p>ì´ëŸ° ë‚´ìš©ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì™œ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì‹ë³„í•  ìˆ˜ ì—†ëŠ”ì§€ ì˜ë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<br />\n<h1 id=\"-ì—ëŸ¬-ì›ì¸\" style=\"position:relative;\"><a href=\"#-%EC%97%90%EB%9F%AC-%EC%9B%90%EC%9D%B8\" aria-label=\" ì—ëŸ¬ ì›ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“œ ì—ëŸ¬ ì›ì¸</h1>\n<p>JpaRepository, CrudRepository ëŠ” ëª¨ë‘ Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ë¬¸ì œëŠ” @Entity ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  Respository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©(Redis ì˜ ê²½ìš°)í–ˆì„ ë•Œ, Spring ì´\nâ€™<strong>Repository ë¡œë¶€í„° ìƒì„±ëœ ë©”ì„œë“œë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ì§€?</strong>â€™ í•˜ê³  ì˜ë¬¸ì„ í’ˆê³  ìŠ¤ìŠ¤ë¡œ ì°¾ëŠ”ë‹¤ê³  í•©ë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ, ì•„ë˜ì²˜ëŸ¼ Redis ì—ì„œ CrudRepository ë¥¼ ì‚¬ìš©í•˜ê³  @Entity ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ\nSpringì€ ê° Repository ì˜ ë©”ì„œë“œ ë“¤ì„ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼í•˜ëŠ” ì§€ ì°¾ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">jparest<span class=\"token punctuation\">.</span>practice<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>jwt</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token annotation punctuation\">@Getter</span>\n<span class=\"token annotation punctuation\">@RedisHash</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"refresh\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RefreshToken</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> refreshToken<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">RefreshTokenRepository</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">CrudRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">RefreshToken</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>ê·¸ëŸ¬í•œ íƒìƒ‰ ê³¼ì •ì´ (JpaRepository x N) + (CrudRepository x M) ë§Œí¼ ì´ë£¨ì–´ì§„ê±°ë¼ê³  ìƒê°ì´ ë“­ë‹ˆë‹¤. (ì¶”ì¸¡ì…ë‹ˆë‹¤.)</p>\n<br />\n<h1 id=\"-í•´ê²°-ë°©ë²•\" style=\"position:relative;\"><a href=\"#-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\" í•´ê²° ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ”‘ í•´ê²° ë°©ë²•</h1>\n<h2 id=\"1-enableredisrepositories-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#1-enableredisrepositories-%EC%B6%94%EA%B0%80\" aria-label=\"1 enableredisrepositories ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. EnableRedisRepositories ì¶”ê°€</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">jparest<span class=\"token punctuation\">.</span>practice<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>config</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Configuration</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>configuration<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EnableRedisRepositories</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token annotation punctuation\">@EnableRedisRepositories</span><span class=\"token punctuation\">(</span>basePackages <span class=\"token operator\">=</span> <span class=\"token string\">\"jparest.practice.auth.jwt\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RedisConfig</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>EnableRedisRepositories ì–´ë…¸í…Œì´ì…˜ ì„ ì´ìš©í•˜ë©´,\nRedisRepository ë¥¼ í™œì„±í™” ì‹œí‚¤ê³ , ë¹ˆ ìŠ¤ìºë‹ ë²”ìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ ì§€ì •í•´ì£¼ë‹ˆ RedisRepository ì— ëŒ€í•œ íƒìƒ‰ì„ ë‹¤ë¥¸ ê²½ë¡œí•´ì„œ í•˜ì§€ ì•Šì•„ì„œ B ì˜ì—­ ë¡œê·¸ê°€ ì¶œë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>\n<br />\n<h2 id=\"2-enablejparepositories-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#2-enablejparepositories-%EC%B6%94%EA%B0%80\" aria-label=\"2 enablejparepositories ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. EnableJpaRepositories ì¶”ê°€</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">jparest<span class=\"token punctuation\">.</span>practice<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>config</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ComponentScan</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Configuration</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FilterType</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>jpa<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EnableJpaRepositories</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token annotation punctuation\">@EnableJpaRepositories</span><span class=\"token punctuation\">(</span>basePackages <span class=\"token operator\">=</span> <span class=\"token string\">\"jparest.practice\"</span><span class=\"token punctuation\">,</span>\n        excludeFilters <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@ComponentScan.Filter</span><span class=\"token punctuation\">(</span>\n                type <span class=\"token operator\">=</span> <span class=\"token class-name\">FilterType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ASPECTJ</span><span class=\"token punctuation\">,</span> pattern <span class=\"token operator\">=</span> <span class=\"token string\">\"jparest.practice.auth.jwt.*\"</span>\n        <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JpaConfig</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì—¬ì „íˆ A ë¡œê·¸ëŠ” ì¶œë ¥ëìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ JpaRepository ë¥¼ í™œì„±í™” ì‹œí‚¤ê³ , ë¹ˆ ìŠ¤ìºë‹ ë²”ìœ„ë¥¼ ì§€ì •í•˜ê¸° ìœ„í•´ ì¶”ê°€ <strong>EnableJpaRepositories</strong> ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nì£¼ì˜í•  ì ì€ @Entity ê°€ ì—†ëŠ”ë° Repository ë¥¼ ì‚¬ìš©í•˜ë©´ Spring ì´ ì–´ë–»ê²Œ ë©”ì„œë“œë¥¼ êµ¬í˜„í•  ì§€ ì°¾ëŠ”ë‹¤ê³  í–ˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ Redis ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì€ ë¹ˆ ìŠ¤ìºë‹ ë²”ìœ„ì—ì„œ ì œì™¸ì‹œì¼°ìŠµë‹ˆë‹¤.\nEnableJpaRepositories ê¹Œì§€ ì ìš©í–ˆë”ë‹ˆ ëª¨ë“  ë¡œê·¸ê°€ ì‚¬ë¼ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2023-06-18 20:42:02.762  INFO 5431 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 141 ms. Found 6 JPA repository interfaces.\n2023-06-18 20:42:02.763  INFO 5431 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-18 20:42:02.763  INFO 5431 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2023-06-18 20:42:02.772  INFO 5431 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 1 Redis repository interfaces.</code></pre></div>\n<br />\n<h1 id=\"ì°¸ê³ -ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³  ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³  ìë£Œ</h1>\n<p><a href=\"https://stackoverflow.com/questions/47002094/spring-multiple-spring-data-modules-found-entering-strict-repository-configur\">https://stackoverflow.com/questions/47002094/spring-multiple-spring-data-modules-found-entering-strict-repository-configur</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-enableredisrepositories-%EC%B6%94%EA%B0%80\">1. EnableRedisRepositories ì¶”ê°€</a></li>\n<li><a href=\"#2-enablejparepositories-%EC%B6%94%EA%B0%80\">2. EnableJpaRepositories ì¶”ê°€</a></li>\n</ul>\n</div>","excerpt":"ğŸš« ì—ëŸ¬ ìƒí™© Redis ë‚´ì˜ Refresh token ê°’ì„ ë‹¤ë£¨ê¸° ìœ„í•´ CrudRepository ë¥¼ ì‚¬ìš©í•˜ê³ , RDBMS ë‚´ì˜ ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ JpaRepository ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ëœ¨ëŠ” ì—¬ëŸ¬ ë¡œê·¸ ì¤‘ ì—ëŸ¬ëŠ” ì•„ë‹ˆì§€ë§Œ, ë°˜ê°‘ì§€ ì•Šì€ INFO ë¡œê·¸ê°€ 2ê°œì˜ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì–´ 7ê°œ ì •ë„ ë°˜ë³µë˜ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì—”í‹°í‹° í´ë˜ìŠ¤ ìˆ˜ ë§Œí¼ ë°˜ë³µ ë˜ì—ˆê³ , ì•„ë˜ì²˜ëŸ¼ ë¡œê·¸ê°€ ì¶œë ¥ëìŠµë‹ˆë‹¤. A ì˜ì—­: Spring Data JPA B ì˜ì—­: Spring Data Redis ë¡œê·¸ëŠ” ë‘ê°œì˜ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì—ˆê³ , ì½ì–´ë³´ë©´ â€œSpring Data JPA: ì—”í‹°í‹°ì˜ ë ˆí¬ì§€í† ë¦¬ì— ëŒ€í•´ ì‹ë³„í•  ìˆ˜ ì—†ë‹¤. ë§Œì•½ ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ JPA repositoryë¡œ ë§Œë“¤ë ¤ë©´ @\bEntity ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ë¼â€ â€œSpring Data Redis: ì—”í‹°í‹°ì˜ ë ˆí¬ì§€í† ë¦¬ì— ëŒ€í•´ ì‹ë³„í•  ìˆ˜ ì—†ë‹¤. ë§Œì•½ ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ Redis repositoryë¡œ ë§Œë“¤ë ¤ë©´ @RedisHash ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´â€¦","frontmatter":{"date":"June 18, 2023","title":"Could not safely identify store assignment for repository candidate interface","categories":"ë¸”ë¡œê·¸ spring","author":"vvs-kim","emoji":"ğŸ’»"},"fields":{"slug":"/could-not-safety-identify-store-assignment-for-repository/"}},"next":{"id":"611398ab-c106-5ee5-8ae1-f0b337ba3884","html":"<h2 id=\"-ê°œë…\" style=\"position:relative;\"><a href=\"#-%EA%B0%9C%EB%85%90\" aria-label=\" ê°œë… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“• ê°œë…</h2>\n<h3 id=\"-êµì°©-ìƒíƒœdeadlock\" style=\"position:relative;\"><a href=\"#-%EA%B5%90%EC%B0%A9-%EC%83%81%ED%83%9Cdeadlock\" aria-label=\" êµì°© ìƒíƒœdeadlock permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âŒ êµì°© ìƒíƒœ(Deadlock)</h3>\n<p>ë…¸íŠ¸ë¶ìœ¼ë¡œ ì½”ë”©ì„ í•˜ê³  ì‹¶ì€ ë‘ ì‚¬ëŒ A, B(í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ) ê°€ ìˆë‹¤.\nAëŠ” ë°°í„°ë¦¬ê°€ 0% ì¸ ë…¸íŠ¸ë¶(ìì›)ì„ ê°€ì§€ê³  ìˆê³ (ì ìœ ) ì¶©ì „ê¸° ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆë‹¤(ëŒ€ê¸°).\nBëŠ” ì¶©ì „ê¸°(ìì›)ë¥¼ ê°€ì§€ê³  ìˆê³ (ì ìœ ) ë…¸íŠ¸ë¶ì„ ê¸°ë‹¤ë¦¬ê³  ìˆë‹¤(ëŒ€ê¸°).</p>\n<p>ì´ì²˜ëŸ¼ <strong>ì„œë¡œ ìì›ì„ ë†“ì•„ì¤„ ìƒê°ì€ ì—†ê³ , ìì› ìš”ì²­ì„ ë¬´í•œì • ëŒ€ê¸°í•˜ê³  ìˆëŠ” ìƒíƒœ</strong> ë¥¼ ë§í•©ë‹ˆë‹¤.</p>\n<blockquote>\n<h3 id=\"critical-sectionì„ê³„-ì˜ì—­\" style=\"position:relative;\"><a href=\"#critical-section%EC%9E%84%EA%B3%84-%EC%98%81%EC%97%AD\" aria-label=\"critical sectionì„ê³„ ì˜ì—­ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Critical section(ì„ê³„ ì˜ì—­)</h3>\n<p>ì—¬ê¸°ì„œ ë…¸íŠ¸ë¶ê³¼ ì¶©ì „ê¸°ë¥¼ ê³µìœ  ìì›ì´ë¼ê³  ë¶€ë¥´ê³ , <strong>ê³µìœ ìì›ì´ ì†í•´ ìˆì–´ êµì°© ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ì—­</strong>ì„ ì„ê³„ì˜ì—­ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.\nê³µìœ  ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œë§Œ ì§„ì…í•´ì„œ ì‹¤í–‰(ìƒí˜¸ë°°ì œ)ê°€ëŠ¥í•œ ì˜ì—­ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<p>êµì°© ìƒíƒœê°€ ë°œìƒí•˜ê¸° ìœ„í•´ì„œëŠ” ë„¤ê°€ì§€ ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ì¤‘ ìƒí˜¸ë°°ì œë¥¼ ì¤‘ì ìœ¼ë¡œ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤.</p>\n<ol>\n<li>ìƒí˜¸ë°°ì œ</li>\n<li>ì ìœ ëŒ€ê¸°</li>\n<li>ë¹„ì„ ì </li>\n<li>ìˆœí™˜ëŒ€ê¸°</li>\n</ol>\n<br />\n<h3 id=\"mutual-exclusionìƒí˜¸-ë°°ì œ\" style=\"position:relative;\"><a href=\"#mutual-exclusion%EC%83%81%ED%98%B8-%EB%B0%B0%EC%A0%9C\" aria-label=\"mutual exclusionìƒí˜¸ ë°°ì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mutual exclusion(ìƒí˜¸ ë°°ì œ)</h3>\n<p>í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œê°€ í•„ìš”ë¡œ í•˜ëŠ” ê³µìœ ìì›ì— ëŒ€í•´ ë°°íƒ€ì ì¸ í†µì œê¶Œì„ ìš”êµ¬í•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.\në‹¤ì‹œ ë§í•˜ë©´, í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œê°€ ê³µìœ ìì›ì„ ì‚¬ìš©í•  ë•Œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ ìì›ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ í†µì œí•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.</p>\n<br />\n<h3 id=\"-ë®¤í…ìŠ¤-mut-ual-ex-clusion\" style=\"position:relative;\"><a href=\"#-%EB%AE%A4%ED%85%8D%EC%8A%A4-mut-ual-ex-clusion\" aria-label=\" ë®¤í…ìŠ¤ mut ual ex clusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ”‘ ë®¤í…ìŠ¤ (Mut <del>ual</del> ex <del>clusion</del>)</h3>\n<p>í™”ì¥ì‹¤(ê³µìœ ìì›)ì´ í•˜ë‚˜ë¿ì¸ ì‹ë‹¹ì´ ìˆìŠµë‹ˆë‹¤. ì‹ë‹¹ì—ëŠ” A, B, C ë¼ëŠ” ì†ë‹˜(í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ)ì´ ì‹ì‚¬ ì¤‘ì…ë‹ˆë‹¤.\ní™”ì¥ì‹¤ì„ ê°€ê¸° ìœ„í•´ì„œëŠ” ì¹´ìš´í„° ì˜†ì— ê±¸ë¦° ì—´ì‡ ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>A ì†ë‹˜ì´ ì—´ì‡ ë¥¼ ë“¤ê³  í™”ì¥ì‹¤ì— ë¨¼ì € ë“¤ì–´ê°”ìŠµë‹ˆë‹¤. ì ì‹œ ë’¤ B ì†ë‹˜ì´ í™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ì–´ì¡ŒìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¹´ìš´í„°ì— ì—´ì‡ ê°€ ì—†ê¸° ë•Œë¬¸ì— ì¹´ìš´í„° ì•ì—ì„œ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>C ì†ë‹˜ë„ í™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ì–´ì¡Œê³ , B ì†ë‹˜ ë’¤ì—ì„œ ëŒ€ê¸° í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>A ì†ë‹˜ì´ í™”ì¥ì‹¤ì—ì„œ ë‚˜ì™€ ì—´ì‡ ë¥¼ ë°˜ë‚©í–ˆìŠµë‹ˆë‹¤. ê¸°ë‹¤ë¦¬ë˜ ì†ë‹˜ë“¤ ì¤‘ ë§¨ ì•ì— ê¸°ë‹¤ë¦¬ë˜ B ì†ë‹˜ì´ ì—´ì‡ ë¥¼ ê°–ì„ ìˆ˜ ìˆê³ , í™”ì¥ì‹¤ì— ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ê²ƒì´ ë®¤í…ìŠ¤ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p>\n<p>í™”ì¥ì‹¤ ì—´ì‡ ëŠ” ê³µìœ ìì›ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì–´ë– í•œ ì˜¤ë¸Œì íŠ¸ì´ê³ ,\ní™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ì–´ì„œ ê¸°ë‹¤ë¦¬ëŠ” ëŒ€ê¸°ì¤„ì€ Queue ì…ë‹ˆë‹¤.</p>\n<p>ë®¤í…ìŠ¤ëŠ” <strong>ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰í•˜ëŠ” í™˜ê²½ì—ì„œ ìì›ì— ëŒ€í•œ ì ‘ê·¼ì— ì œí•œì„ ê°•ì œí•˜ê¸° ìœ„í•œ ë™ê¸°í™” ë§¤ì»¤ë‹ˆì¦˜</strong>ì´ê³ , ì–´ë– í•œ ì˜¤ë¸Œì íŠ¸ë¥¼ ì†Œìœ í•œ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œë§Œì´ ê³µìœ ìì›ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<br />\n<h3 id=\"-ì„¸ë§ˆí¬ì–´\" style=\"position:relative;\"><a href=\"#-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\" aria-label=\" ì„¸ë§ˆí¬ì–´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ”¢ ì„¸ë§ˆí¬ì–´</h3>\n<p>ë˜ ë‹¤ë¥¸ ì‹ë‹¹ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì‹ë‹¹ì—ëŠ” í™”ì¥ì‹¤ 2ê°œ ìˆìŠµë‹ˆë‹¤. í™”ì¥ì‹¤ ì…êµ¬ì— í™”ì¥ì‹¤ì˜ ë¹ˆì¹¸ ê°œìˆ˜ë¥¼ ì•Œë ¤ì£¼ëŠ” ì „ê´‘íŒ(2)ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<p>A ì†ë‹˜ì´ í™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ì–´ì¡ŒìŠµë‹ˆë‹¤. ì „ê´‘íŒì„ ë³´ê³  ë¹ˆì¹¸ì´ 1ê°œ ì´ìƒì´ ìˆë‹¤ëŠ” ê±¸ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì „ê´‘íŒì˜ ìˆ«ìë¥¼ í•˜ë‚˜ ì°¨ê°(1)í•˜ê³  í™”ì¥ì‹¤ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>\n<p>ì´ì–´ì„œ B ì†ë‹˜ë„ í™”ì¥ì‹¤ë¡œ ë“¤ì–´ ê°”ìŠµë‹ˆë‹¤. ì „ê´‘íŒì˜ ìˆ«ìëŠ” 0ì…ë‹ˆë‹¤. C ì†ë‹˜ë„ í™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ì–´ì¡ŒìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì „ê´‘íŒì˜ ìˆ«ìê°€ 1ì´ ë ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>A ì†ë‹˜ì´ í™”ì¥ì‹¤ì—ì„œ ë‚˜ì˜µë‹ˆë‹¤. ì „ê´‘íŒì˜ ìˆ«ìëŠ” 1ë¡œ ë°”ë€Œê³ , ê¸°ë‹¤ë¦¬ë˜ C ì†ë‹˜ì€ í™”ì¥ì‹¤ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>\n<p>ì´ê²ƒì€ ì„¸ë§ˆí¬ì–´ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p>\n<p>ì„¸ë§ˆí¬ì–´ëŠ” í˜„ì¬ <strong>ê³µìœ ìì›ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ì„ ë‘ì–´ ìƒí˜¸ë°°ì œë¥¼ ë‹¬ì„±í•˜ëŠ” ê¸°ë²•</strong>ì…ë‹ˆë‹¤.</p>\n<br />\n<h2 id=\"-ì˜ˆì œ\" style=\"position:relative;\"><a href=\"#-%EC%98%88%EC%A0%9C\" aria-label=\" ì˜ˆì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§‘ğŸ»â€ğŸ’» ì˜ˆì œ</h2>\n<h3 id=\"ì„¸ë§ˆí¬ì–´\" style=\"position:relative;\"><a href=\"#%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\" aria-label=\"ì„¸ë§ˆí¬ì–´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„¸ë§ˆí¬ì–´</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Semaphore</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Toilet</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> guestId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Semaphore</span> semaphore<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Toilet</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> guestId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Semaphore</span> semaphore<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>guestId <span class=\"token operator\">=</span> guestId<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>semaphore <span class=\"token operator\">=</span> semaphore<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">String</span> threadName <span class=\"token operator\">=</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>\n                <span class=\"token string\">\"Guest went into the toilet :\"</span> <span class=\"token operator\">+</span> threadName <span class=\"token operator\">+</span> <span class=\"token string\">\", for guest id:\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>guestId\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            semaphore<span class=\"token punctuation\">.</span><span class=\"token function\">acquire</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì·¨ë“</span>\n            <span class=\"token function\">something</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            semaphore<span class=\"token punctuation\">.</span><span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// í•´ì œ</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">something</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Toilet í´ë˜ìŠ¤ëŠ” ìƒì„±ìë¡œ ê²ŒìŠ¤íŠ¸ ì•„ì´ë””, ì„¸ë§ˆí¬ì–´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŠµë‹ˆë‹¤.\nì‚¬ìš©ìëŠ” ê³µìœ ìì›ì´ 1 ì´ìƒì¼ ë•Œ, ê³µìœ ìì›ì„ ì·¨ë“í•  ìˆ˜ ìˆê³  something(?) ë¬´ì–¸ê°€ë¥¼ í•©ë‹ˆë‹¤.\nsomething ë©”ì„œë“œëŠ” 5ì´ˆì˜ ëŒ€ê¸°ì‹œê°„ì„ ì£¼ê¸° ë•Œë¬¸ì—, 5ì´ˆë§ˆë‹¤ í™”ì¥ì‹¤ì„ ì´ìš©í•˜ëŠ” ì†ë‹˜ì´ ë°”ë€” ê±°ë¼ëŠ” ê²ƒì„ ì˜ˆìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ExecutorService</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Executors</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Semaphore</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeUnit</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IntStream</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SemaphoreTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">semaphore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> totalToilet <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// í™”ì¥ì‹¤(ê³µìœ ìì›) 5ê°œ</span>\n            <span class=\"token keyword\">int</span> totalThreadPool <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì“°ë ˆë“œí’€ ì„¤ì •</span>\n\n            <span class=\"token class-name\">Semaphore</span> semaphore<span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Semaphore</span><span class=\"token punctuation\">(</span>totalToilet<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true == FIFO</span>\n\n            <span class=\"token class-name\">ExecutorService</span> exeService <span class=\"token operator\">=</span> <span class=\"token class-name\">Executors</span><span class=\"token punctuation\">.</span><span class=\"token function\">newFixedThreadPool</span><span class=\"token punctuation\">(</span>totalThreadPool<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">IntStream</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">-></span> exeService<span class=\"token punctuation\">.</span><span class=\"token function\">submit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Toilet</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> semaphore<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            exeService<span class=\"token punctuation\">.</span><span class=\"token function\">shutdown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            exeService<span class=\"token punctuation\">.</span><span class=\"token function\">awaitTermination</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MINUTES</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Semaphore ìƒì„±ìë¥¼ ì´ìš©í•´ ê³µìœ ìì› ê°œìˆ˜ì™€ FIFO ì„¤ì •ì„ í•©ë‹ˆë‹¤.\nnewFixedThreadPool ë¡œ ì“°ë ˆë“œí’€ì„ ì„¤ì •í•©ë‹ˆë‹¤.\nIntStream ìœ¼ë¡œ 100ëª…ì˜ ì†ë‹˜ì„ ìƒì„±í•˜ê³ , ëª¨ë‘ í™”ì¥ì‹¤ë¡œ ë³´ëƒ…ë‹ˆë‹¤.\ní™”ì¥ì‹¤ì€ 5ê°œ ì´ê³  something ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ”ë° 5ì´ˆ ì‹œê°„ì´ ê±¸ë¦¬ë¯€ë¡œ,\n5ì´ˆë§ˆë‹¤ ì†ë‹˜ì´ í™”ì¥ì‹¤ì— ì…ì¥í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/b9abaab3-1114-45b5-9f5e-2540c6f84f3e/image.gif\" alt=\"\"></p>\n<br />\n<h2 id=\"ì°¸ê³ ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ ìë£Œ</h2>\n<p><a href=\"https://medium.com/@kwoncharles/%EB%AE%A4%ED%85%8D%EC%8A%A4-mutex-%EC%99%80-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4-semaphore-%EC%9D%98-%EC%B0%A8%EC%9D%B4-de6078d3c453\">ë®¤í…ìŠ¤(Mutex)ì™€ ì„¸ë§ˆí¬ì–´(Semaphore)ì˜ ì°¨ì´</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=oazGbhBCOfU&#x26;list=PLgXGHBqgT2TvpJ_p9L_yZKPifgdBOzdVH&#x26;index=159\">[10ë¶„ í…Œì½”í†¡] ğŸ² ì™€ì¼ë”ì˜ Mutex vs Semaphore</a></p>\n<p><a href=\"https://scrutinybykhimaanshu.blogspot.com/2019/08/all-about-java-semaphore.html\">All-about-java-semaphore</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EA%B0%9C%EB%85%90\">ğŸ“• ê°œë…</a></p>\n<ul>\n<li><a href=\"#-%EA%B5%90%EC%B0%A9-%EC%83%81%ED%83%9Cdeadlock\">âŒ êµì°© ìƒíƒœ(Deadlock)</a></li>\n<li><a href=\"#mutual-exclusion%EC%83%81%ED%98%B8-%EB%B0%B0%EC%A0%9C\">Mutual exclusion(ìƒí˜¸ ë°°ì œ)</a></li>\n<li><a href=\"#-%EB%AE%A4%ED%85%8D%EC%8A%A4-mut-ual-ex-clusion\">ğŸ”‘ ë®¤í…ìŠ¤ (Mut <del>ual</del> ex <del>clusion</del>)</a></li>\n<li><a href=\"#-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\">ğŸ”¢ ì„¸ë§ˆí¬ì–´</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%98%88%EC%A0%9C\">ğŸ§‘ğŸ»â€ğŸ’» ì˜ˆì œ</a></p>\n<ul>\n<li><a href=\"#%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\">ì„¸ë§ˆí¬ì–´</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">ì°¸ê³ ìë£Œ</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 17, 2023","title":"ë®¤í…ìŠ¤(Mutex)ì™€ ì„¸ë§ˆí¬ì–´(Semaphore)","categories":"ë¸”ë¡œê·¸ java","author":"vvs-kim","emoji":"ğŸ’»"},"fields":{"slug":"/mutex-semaphore/"}},"prev":{"id":"8de7e380-0b40-51f3-8821-8375fa969e0b","html":"<h2 id=\"-ì ìš©-ì´ìœ \" style=\"position:relative;\"><a href=\"#-%EC%A0%81%EC%9A%A9-%EC%9D%B4%EC%9C%A0\" aria-label=\" ì ìš© ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤” ì ìš© ì´ìœ </h2>\n<h3 id=\"autoscaling-loadbalancer\" style=\"position:relative;\"><a href=\"#autoscaling-loadbalancer\" aria-label=\"autoscaling loadbalancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AutoScaling, LoadBalancer</h3>\n<p>EBë¥¼ ì‚¬ìš©í•´ë³¸ ì ì€ ì—†ìœ¼ë‚˜ ì‚¬ìš©ìœ¨ì´ ì¦ê°€í•˜ë©´ scale out í–ˆë‹¤ê°€, ë‹¤ì‹œ ì¤„ì–´ë“¤ë©´ scale in ì„ í•  ìˆ˜ ìˆëŠ” <strong>AutoScaling Group</strong>ê³¼ ì„œë²„ì˜ ë¶€í•˜ë¥¼ ë‚˜ëˆ„ì–´ ì£¼ëŠ” <strong>LoadBalancer</strong>ë¥¼ ê°„í¸í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì ì´ ì¥ì ìœ¼ë¡œ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.\në‹¤ë¥¸ ì—¬ëŸ¬ ì¥ì ì€ ì‚¬ìš©í•´ë³´ê¸° ì „ì—ëŠ” ì™€ë‹¿ì§€ ì•Šì•„ì„œ â€˜ì‚¬ìš©í•´ë³´ê³  ëŠê»´ë³´ìâ€™ í•´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ï¸-ì„¤ì •-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95\" aria-label=\"ï¸ ì„¤ì • ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âš™ï¸ ì„¤ì • ë°©ë²•</h2>\n<h3 id=\"1-iam-ì—­í• -ì¶”ê°€\" style=\"position:relative;\"><a href=\"#1-iam-%EC%97%AD%ED%95%A0-%EC%B6%94%EA%B0%80\" aria-label=\"1 iam ì—­í•  ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. IAM ì—­í•  ì¶”ê°€</h3>\n<p>Elastic beanstalk(ì´í•˜ EB) ì˜ í™˜ê²½ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ ê° ì—­í• ì— ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<h4 id=\"11-ì„œë¹„ìŠ¤-ì—­í• \" style=\"position:relative;\"><a href=\"#11-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%97%AD%ED%95%A0\" aria-label=\"11 ì„œë¹„ìŠ¤ ì—­í•  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1 ì„œë¹„ìŠ¤ ì—­í• </h4>\n<p>EBë¥¼ ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë‹´ë‹¹í•  IAM ì—­í• ì„ ë¶€ì—¬í•©ë‹ˆë‹¤.\n<a href=\"https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/iam-servicerole.html\">Elastic Beanstalk ì„œë¹„ìŠ¤ ì—­í•  ê´€ë¦¬</a></p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/c925b17e-a881-431f-80db-601c7e23e505/image.png\" alt=\"\"></p>\n<p>ì„¤ì •í•˜ì§€ ì•Šì„ ì‹œ, ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ë¥¼ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤..</p>\n<blockquote>\n<p>Configuration validation exception: Invalid option specification (Namespace: â€˜aws:elasticbeanstalk:managedactionsâ€™, OptionName: â€˜ManagedActionsEnabledâ€™): You canâ€™t enable managed platform updates when your environment uses the service-linked role â€˜AWSServiceRoleForElasticBeanstalkâ€™. Select a service role that has the â€˜AWSElasticBeanstalkManagedUpdatesCustomerRolePolicyâ€™ managed policy.</p>\n</blockquote>\n<br />\n<h4 id=\"12-ec2-ì¸ìŠ¤í„´ìŠ¤-í”„ë¡œíŒŒì¼\" style=\"position:relative;\"><a href=\"#12-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC\" aria-label=\"12 ec2 ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.2 EC2 ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼</h4>\n<p>EB í™˜ê²½ êµ¬ì„±ì´ ì™„ë£Œë˜ë©´ EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ IAM ì—­í• ì´ í•„ìš”í•©ë‹ˆë‹¤.\n<a href=\"https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/iam-instanceprofile.html#iam-instanceprofile-create\">Elastic Beanstalk ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼ ê´€ë¦¬</a></p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/7dc30e7e-5db3-4df3-a575-0e36ec547a5a/image.png\" alt=\"\"></p>\n<br />\n<h3 id=\"2-í™˜ê²½-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#2-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\" aria-label=\"2 í™˜ê²½ êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. í™˜ê²½ êµ¬ì„±</h3>\n<p><a href=\"https://ap-northeast-2.console.aws.amazon.com/elasticbeanstalk/home?region=ap-northeast-2#/create-environment\">Elastic Beanstalk í™˜ê²½ êµ¬ì„±</a></p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/df13710c-fdc3-4f10-8406-161353d4d4d4/image.png\" alt=\"\"></p>\n<p>í™˜ê²½ í‹°ì–´: ì›¹ ì„œë²„ í™˜ê²½ ì„ íƒ ì‹œ Http ìš”ì²­ì„ ì²˜ë¦¬ í•©ë‹ˆë‹¤.<br />\ní™˜ê²½ ì •ë³´ - í™˜ê²½ ì´ë¦„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ + [-env] í˜•ì‹ìœ¼ë¡œ ìë™ ì™„ì„±ë©ë‹ˆë‹¤.<br />\ní™˜ê²½ ì •ë³´ - ë„ë©”ì¸: ì‘ì„±í•˜ì§€ ì•Šì„ ì‹œ ëœë¤ê°’ìœ¼ë¡œ ìë™ ìƒì„±ë©ë‹ˆë‹¤.<br /></p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/2c5a7da3-e0e0-45c9-980a-bd21e970a317/image.png\" alt=\"\"></p>\n<p>ì‚¬ì „ ì„¤ì •: AutoScaling, LoadBalancerë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ë¼ë©´ ê³ ê°€ìš©ì„±ì„ ì„ íƒí•´ ì¤ë‹ˆë‹¤. ì•„ë‹ˆë©´ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>\n<p>ì—¬ê¸°ê¹Œì§€ ì„¤ì •í•˜ê³  ê²€í†  ë‹¨ê³„ë¡œ ê±´ë„ˆë›°ë©´ ì ì‹œ ë’¤ EB ê°€ ìƒì„±ë©ë‹ˆë‹¤.\nìƒì„±ëœ ë„ë©”ì¸ì„ í´ë¦­í•˜ë©´ í™”ë©´ì´ ì•„ë˜ì²˜ëŸ¼ ì¶œë ¥ë©ë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/9244fab9-b269-461b-ad4e-0d9b1b989928/image.png\" alt=\"\"></p>\n<br />\n<h3 id=\"3-ë°°í¬\" style=\"position:relative;\"><a href=\"#3-%EB%B0%B0%ED%8F%AC\" aria-label=\"3 ë°°í¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ë°°í¬</h3>\n<p>ë„ì»¤ í—ˆë¸Œ ë ˆí¬ì§€í† ë¦¬ë¥¼ ìƒì„±í•˜ê³ , ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.\ndocker-compose.yml ì„ ì‘ì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">version: <span class=\"token string\">\"3\"</span>\n  api:\n    image: tester/jpa-rest:0.0.1-dev\n    restart: always\n    ports:\n      - <span class=\"token string\">\"80:9090\"</span>\n    container_name: jpa-rest-api\n    environment:\n      TZ: Asia/Seoul\n      SPRING_PROFILES_ACTIVE: prod</code></pre></div>\n<br />\n<p>EB í™˜ê²½ íƒ­ì—ì„œ ì—…ë¡œë“œ ë° ë°°í¬ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/48fc5a1d-1bff-41b0-b61d-fc5570e97215/image.png\" alt=\"\"></p>\n<p>ì •ìƒ ë°°í¬ê°€ ëœê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/e8d180c9-1b96-43c7-9e7c-4736a4fbdf2f/image.png\" alt=\"\"></p>\n<br />\n<h3 id=\"4-ë°°í¬-ì˜µì…˜\" style=\"position:relative;\"><a href=\"#4-%EB%B0%B0%ED%8F%AC-%EC%98%B5%EC%85%98\" aria-label=\"4 ë°°í¬ ì˜µì…˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ë°°í¬ ì˜µì…˜</h3>\n<p>ë°°í¬ ì˜µì…˜ì€ 4ê°€ì§€ ì •ë„ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. Rolling ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ê¸°ë³¸ ì„¤ì •ì¸ Rolling ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ì—¬ ë¬´ì¤‘ë‹¨ ë°°í¬ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ë‹¤ìš´íƒ€ì„ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ë°°í¬ì‹œê°„ì´ ë¹„êµì  ë¹¨ë¼ì„œ ì†Œê·œëª¨ ì„œë¹„ìŠ¤ì—ì„œ ì í•©í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.</p>\n<h4 id=\"1-all-at-once\" style=\"position:relative;\"><a href=\"#1-all-at-once\" aria-label=\"1 all at once permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. All at once</h4>\n<p>ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ì— ë™ì‹œì— ìƒˆ ë²„ì „ ë°°í¬\në‹¨ìˆœí•˜ê³  ê°€ì¥ ë¹ ë¥¸ ë°°í¬ ë°©ì‹</p>\n<p>ë‹¨ì : ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë˜ëŠ” ë‹¤ìš´íƒ€ì„ì´ ì¡´ì¬í•œë‹¤.</p>\n<h4 id=\"2-rolling\" style=\"position:relative;\"><a href=\"#2-rolling\" aria-label=\"2 rolling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Rolling</h4>\n<p>ë°°ì¹˜ ë‹¨ìœ„ë¡œ ìƒˆ ë²„ì „ ë°°í¬ (ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ ë¶ˆê°€)\nì˜ˆë¥¼ ë“¤ì–´, 4ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•œë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.\n2ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¨¼ì € ë°°í¬í•˜ê³ , ë°°í¬ê°€ ì™„ë£Œë˜ë©´ ë‚˜ë¨¸ì§€ ì¸ìŠ¤í„´ìŠ¤ë„ ë°°í¬í•©ë‹ˆë‹¤.</p>\n<p>ë‹¨ì : ìˆœì°¨ì ìœ¼ë¡œ ë°°í¬ê°€ ë˜ê¸° ë•Œë¬¸ì—, ëˆ„êµ°ê°€ëŠ” ì—…ë°ì´íŠ¸ ì „ ë²„ì „ì„ ëˆ„êµ¬ëŠ” ì—…ë°ì´íŠ¸ í›„ ë²„ì „ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h4 id=\"3-rolling-with-additional-batch\" style=\"position:relative;\"><a href=\"#3-rolling-with-additional-batch\" aria-label=\"3 rolling with additional batch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Rolling with additional batch</h4>\n<p>ë°°ì¹˜ ë‹¨ìœ„ë¡œ ìƒˆ ë²„ì „ ë°°í¬, +1 ì¶”ê°€ ë°°ì¹˜ (ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ ë¶ˆê°€)\nì˜ˆë¥¼ ë“¤ì–´, 4ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•œë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ë°°í¬ ì‹œ 2ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì´í›„ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ë°°í¬í•©ë‹ˆë‹¤. 6ê°œì¤‘ 4ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°°í¬ ì™„ë£Œë˜ë©´ 2ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì¢…ë£Œ í•©ë‹ˆë‹¤.</p>\n<h4 id=\"4-immutable\" style=\"position:relative;\"><a href=\"#4-immutable\" aria-label=\"4 immutable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Immutable</h4>\n<p>ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹ì— ë°°í¬\nAutoScaling Groupì„ ìƒˆë¡œ ë§Œë“¤ì–´ ë°°í¬í•œë‹¤. ìƒˆë¡œ ìƒê¸´ ê·¸ë£¹ì€ ê¸°ì¡´ì˜ ê·¸ë£¹ê³¼ ê°™ì€ DNS ë¥¼ ë°”ë¼ë³¸ë‹¤. (Blue green ê³¼ ë¹„ìŠ·í•˜ë‹¤)</p>\n<br />\n<h3 id=\"5-autoscaling\" style=\"position:relative;\"><a href=\"#5-autoscaling\" aria-label=\"5 autoscaling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. AutoScaling</h3>\n<p>EB ì˜ AutoScaling ë°©ë²•ì€ ë‘ ê°€ì§€ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.</p>\n<h4 id=\"1-triggers-based-scaling\" style=\"position:relative;\"><a href=\"#1-triggers-based-scaling\" aria-label=\"1 triggers based scaling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Triggers based scaling</h4>\n<p>íŠ¹ì • ë©”íŠ¸ë¦­ì˜ ì„ê³„ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§ì„ í•œë‹¤.</p>\n<h4 id=\"2-time-based-scaling\" style=\"position:relative;\"><a href=\"#2-time-based-scaling\" aria-label=\"2 time based scaling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Time-based scaling</h4>\n<p>íŠ¹ì • ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§ì„ í•œë‹¤. (ex. ì˜¤ì „ 8ì‹œì— ëŒ€ê·œëª¨ ì—…ë°ì´íŠ¸ê°€ ì‹¤ì‹œ ëœë‹¤.)</p>\n<h4 id=\"ì„¤ì •í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"ì„¤ì •í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„¤ì •í•˜ê¸°</h4>\n<p>ì €ëŠ” CPU ì‚¬ìš©ë¥ ì„ ë©”íŠ¸ë¦­ìœ¼ë¡œ í•˜ì—¬ 60% ì´ìƒì¼ ì‹œ ìŠ¤ì¼€ì¼ì—…ì„ í•˜ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/1bc19506-4a0b-4f21-a37d-5762c4f0dd35/image.png\" alt=\"\"><img src=\"https://velog.velcdn.com/images/kws60000/post/0cc4e8da-a01d-40a5-8f5e-f79676ad3c62/image.png\" alt=\"\"></p>\n<p>ì¸ìŠ¤í„´ìŠ¤ê°€ 2~4ê°œ ê°€ ìœ ì§€ë˜ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/kws60000/post/eb217c0d-fb02-4964-a16a-88b2bedc3f18/image.png\" alt=\"\"></p>\n<p>ì¸ìŠ¤í„´ìŠ¤ê°€ 2ê°œ ì‹¤í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.![]</p>\n<p>(<a href=\"https://velog.velcdn.com/images/kws60000/post/55986749-6484-4039-9afe-a88ee12e7b3d/image.png\">https://velog.velcdn.com/images/kws60000/post/55986749-6484-4039-9afe-a88ee12e7b3d/image.png</a>)</p>\n<br />\n<h2 id=\"-ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\" ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“„ ë§ˆì¹˜ë©°..</h2>\n<h3 id=\"1-ì´ˆê¸°-ì„¤ì •ì´-ë¹ ë¥´ê³ -ê°„ë‹¨í•˜ë‹¤\" style=\"position:relative;\"><a href=\"#1-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95%EC%9D%B4-%EB%B9%A0%EB%A5%B4%EA%B3%A0-%EA%B0%84%EB%8B%A8%ED%95%98%EB%8B%A4\" aria-label=\"1 ì´ˆê¸° ì„¤ì •ì´ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì´ˆê¸° ì„¤ì •ì´ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ë‹¤.</h3>\n<p>EC2 ë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±, íƒ„ë ¥ì  IP ì„¤ì •, ë„ì»¤ ì„¤ì¹˜ ë“± ë‹¹ì—°íˆ ìˆ˜í–‰ë˜ì–´ì•¼ ë˜ëŠ” ì‘ì—…ì´ ìˆìŠµë‹ˆë‹¤. ì–´ë ¤ìš´ ì¼ì€ ì•„ë‹ˆì§€ë§Œ, EB ê°€ ë°˜ë³µëœ ì‘ì—…ì„ ì¤„ì—¬ì£¼ë¯€ë¡œ í¸ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"2-autoscaling-ì„¤ì •ì´-í¸í•˜ë‹¤\" style=\"position:relative;\"><a href=\"#2-autoscaling-%EC%84%A4%EC%A0%95%EC%9D%B4-%ED%8E%B8%ED%95%98%EB%8B%A4\" aria-label=\"2 autoscaling ì„¤ì •ì´ í¸í•˜ë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. AutoScaling ì„¤ì •ì´ í¸í•˜ë‹¤.</h3>\n<p>AutoScaling ì„¤ì •ì´ ê°„ë‹¨í–ˆìŠµë‹ˆë‹¤. ëˆˆì— ë³´ì´ëŠ”ë°ë¡œ ë©”íŠ¸ë¦­ì„ ì„¤ì •í•˜ê³ , ì„ê³„ê°’ê³¼ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ë§Œ ì •í•˜ë©´ ì ìš©ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.</p>\n<br />\n<h2 id=\"ì°¸ê³ -ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³  ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³  ìë£Œ</h2>\n<p><a href=\"https://www.youtube.com/watch?v=AfRnvsRxZ_0\">AWS Elastic Beanstalk í™œìš©í•˜ì—¬ ìˆ˜ ë¶„ë§Œì— ì½”ë“œ ë°°í¬í•˜ê¸° - ìµœì›ê·¼ ì†”ë£¨ì…˜ì¦ˆ ì•„í‚¤í…íŠ¸(AWS)</a>\n<a href=\"https://llshl.tistory.com/47\">ë¬´ì¤‘ë‹¨ ë°°í¬ ë°©ì‹(Rolling / BlueGreen / Canary)</a>\n<a href=\"https://twosky.tistory.com/55\">[AWS] Spring Boot í”„ë¡œì íŠ¸ Elastic beanstalkì— ìˆ˜ë™ ë°°í¬í•˜ê¸°</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EC%A0%81%EC%9A%A9-%EC%9D%B4%EC%9C%A0\">ğŸ¤” ì ìš© ì´ìœ </a></p>\n<ul>\n<li><a href=\"#autoscaling-loadbalancer\">AutoScaling, LoadBalancer</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EF%B8%8F-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95\">âš™ï¸ ì„¤ì • ë°©ë²•</a></p>\n<ul>\n<li>\n<p><a href=\"#1-iam-%EC%97%AD%ED%95%A0-%EC%B6%94%EA%B0%80\">1. IAM ì—­í•  ì¶”ê°€</a></p>\n<ul>\n<li><a href=\"#11-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%97%AD%ED%95%A0\">1.1 ì„œë¹„ìŠ¤ ì—­í• </a></li>\n<li><a href=\"#12-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC\">1.2 EC2 ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\">2. í™˜ê²½ êµ¬ì„±</a></p>\n</li>\n<li>\n<p><a href=\"#3-%EB%B0%B0%ED%8F%AC\">3. ë°°í¬</a></p>\n</li>\n<li>\n<p><a href=\"#4-%EB%B0%B0%ED%8F%AC-%EC%98%B5%EC%85%98\">4. ë°°í¬ ì˜µì…˜</a></p>\n<ul>\n<li><a href=\"#1-all-at-once\">1. All at once</a></li>\n<li><a href=\"#2-rolling\">2. Rolling</a></li>\n<li><a href=\"#3-rolling-with-additional-batch\">3. Rolling with additional batch</a></li>\n<li><a href=\"#4-immutable\">4. Immutable</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-autoscaling\">5. AutoScaling</a></p>\n<ul>\n<li><a href=\"#1-triggers-based-scaling\">1. Triggers based scaling</a></li>\n<li><a href=\"#2-time-based-scaling\">2. Time-based scaling</a></li>\n<li><a href=\"#%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">ì„¤ì •í•˜ê¸°</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EB%A7%88%EC%B9%98%EB%A9%B0\">ğŸ“„ ë§ˆì¹˜ë©°..</a></p>\n<ul>\n<li><a href=\"#1-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95%EC%9D%B4-%EB%B9%A0%EB%A5%B4%EA%B3%A0-%EA%B0%84%EB%8B%A8%ED%95%98%EB%8B%A4\">1. ì´ˆê¸° ì„¤ì •ì´ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ë‹¤.</a></li>\n<li><a href=\"#2-autoscaling-%EC%84%A4%EC%A0%95%EC%9D%B4-%ED%8E%B8%ED%95%98%EB%8B%A4\">2. AutoScaling ì„¤ì •ì´ í¸í•˜ë‹¤.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">ì°¸ê³  ìë£Œ</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 19, 2023","title":"Elastic Beanstalk + Docker + Java ì„¤ì •","categories":"ë¸”ë¡œê·¸ server","author":"vvs-kim","emoji":"ğŸ’»"},"fields":{"slug":"/java-deploy-with-elastic-beanstalk-and-docker/"}},"site":{"siteMetadata":{"siteUrl":"https://vvs-kim.github.io","comments":{"utterances":{"repo":"vvs-kim/vvs-kim.github.io"}}}}},"pageContext":{"slug":"/could-not-safety-identify-store-assignment-for-repository/","nextSlug":"/mutex-semaphore/","prevSlug":"/java-deploy-with-elastic-beanstalk-and-docker/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}